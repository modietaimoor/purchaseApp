"use strict";(self.webpackChunkpurchaseApp=self.webpackChunkpurchaseApp||[]).push([[654],{6654:(No,Ve,s)=>{s.r(Ve),s.d(Ve,{AdminModule:()=>ye});var p=s(6895),d=s(4719),tt=s(2112),ze=s(8752),Ce=s(818),e=s(5062),qe=s(3108);class Y{constructor(){this.dataSource=[],this.selectedItemKeys=[],this.hoverStateEnabled=!1,this.activeStateEnabled=!1,this.focusStateEnabled=!1,this.grouped=!1,this.collapsibleGroups=!1,this.keyExpr=null,this.displayExpr=null,this.elementAttr={class:"panel-list"},this.selectionMode="single",this.itemClick=new e.vpe}itemClicked(o){this.itemClick.emit(o)}refresh(){this.dxList.instance?.repaint()}}Y.\u0275fac=function(o){return new(o||Y)},Y.\u0275cmp=e.Xpm({type:Y,selectors:[["app-list"]],viewQuery:function(o,t){if(1&o&&e.Gf(qe.k,5),2&o){let i;e.iGM(i=e.CRH())&&(t.dxList=i.first)}},inputs:{dataSource:"dataSource",selectedItemKeys:"selectedItemKeys",hoverStateEnabled:"hoverStateEnabled",activeStateEnabled:"activeStateEnabled",focusStateEnabled:"focusStateEnabled",grouped:"grouped",collapsibleGroups:"collapsibleGroups",keyExpr:"keyExpr",displayExpr:"displayExpr",elementAttr:"elementAttr",selectionMode:"selectionMode"},outputs:{itemClick:"itemClick"},decls:1,vars:11,consts:[[1,"panel-list","dx-theme-accent-as-background-color",3,"dataSource","elementAttr","selectionMode","selectedItemKeys","keyExpr","displayExpr","hoverStateEnabled","activeStateEnabled","focusStateEnabled","grouped","collapsibleGroups","onItemClick"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-list",0),e.NdJ("onItemClick",function(a){return t.itemClicked(a)}),e.qZA()),2&o&&e.Q6J("dataSource",t.dataSource)("elementAttr",t.elementAttr)("selectionMode",t.selectionMode)("selectedItemKeys",t.selectedItemKeys)("keyExpr",t.keyExpr)("displayExpr",t.displayExpr)("hoverStateEnabled",t.hoverStateEnabled)("activeStateEnabled",t.activeStateEnabled)("focusStateEnabled",t.focusStateEnabled)("grouped",t.grouped)("collapsibleGroups",t.collapsibleGroups)},dependencies:[qe.k],styles:[".panel-list .dx-list-item{color:#fff;border-top:1px solid rgba(221,221,221,.2)}  .panel-list .dx-list-item .dx-icon{color:#fff!important}  .dx-item.dx-list-item.dx-list-item-selected>.dx-item-content.dx-list-item-content>.dx-list-item-icon-container>.dx-icon{color:#f2be35!important}  .dx-item.dx-list-item:hover{background-color:#0000001a!important}  .dx-item.dx-list-item.dx-list-item-selected{background-color:#337ab7!important;color:#f2be35!important}"]});var ot=s(2681);const nt=function(n,o){return{"w-1/5":n,"w-1/12":o}},it=function(n,o){return{"w-4/5":n,"w-11/12":o}};class xe{constructor(o){this._router=o,this.logout=()=>{this._router.navigate([Ce.xB.LoginPage])},this.collapsed=!1,this.elementAttr={class:"bg-blueGray-500 text-white overflow-y-hidden"}}ngOnInit(){this.initializeListAndToolbar(),this.initializeToolbar()}initializeListAndToolbar(){let o=this._router.url;this.menu=Ce.v2.map(t=>({id:t.id,url:t.url,title:t.title,active:t.active,icon:t.icon,html:t.title})),this.menu.forEach(t=>{t.icon=this.collapsed?"":this.getIconById(t.id),t.html=this.collapsed?this.getHtmlById(t.id):t.title,t.active=t.url===o}),this.currentPage=this.menu.find(t=>t.url===o).title,this.selectedItemKeys=this.menu.filter(t=>!0===t.active).map(t=>t.url),this.listComponent?.refresh()}initializeToolbar(){this.toolbarItems=[{widget:"dxButton",location:"before",options:{icon:"hidepanel",onClick:o=>{this.collapsed=!this.collapsed,o.component.option("icon",this.collapsed?"showpanel":"hidepanel"),this.initializeListAndToolbar()}}},{widget:"dxButton",location:"before",options:{icon:"dragvertical",text:this.currentPage}},{widget:"dxButton",location:"after",options:{icon:"fa fa-sign-out",onClick:()=>this.logout()}}]}getIconById(o){return Ce.v2.find(t=>t.id===o).icon}getHtmlById(o){return Ce.v2.find(t=>t.id===o).collapsedTemplate}navigate(o){this.currentPage=o.itemData.title,this.initializeToolbar(),this.menu.forEach(t=>t.active=t.url===o.itemData.url),this._router.navigate([o.itemData.url])}}xe.\u0275fac=function(o){return new(o||xe)(e.Y36(ze.F0))},xe.\u0275cmp=e.Xpm({type:xe,selectors:[["app-admin"]],viewQuery:function(o,t){if(1&o&&e.Gf(Y,5),2&o){let i;e.iGM(i=e.CRH())&&(t.listComponent=i.first)}},decls:7,vars:12,consts:[[1,"flex","flex-wrap","overflow-y-hidden"],[3,"ngClass"],["keyExpr","url","displayExpr","title",3,"dataSource","elementAttr","selectedItemKeys","itemClick"],[1,"w-full","p-2","bg-gray-100"],[3,"items","itemsChange"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-list",2),e.NdJ("itemClick",function(a){return t.navigate(a)}),e.qZA()(),e.TgZ(3,"div",1)(4,"div",3)(5,"app-toolbar",4),e.NdJ("itemsChange",function(a){return t.toolbarItems=a}),e.qZA()(),e._UZ(6,"router-outlet"),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("ngClass",e.WLB(6,nt,!t.collapsed,t.collapsed)),e.xp6(1),e.Q6J("dataSource",t.menu)("elementAttr",t.elementAttr)("selectedItemKeys",t.selectedItemKeys),e.xp6(1),e.Q6J("ngClass",e.WLB(9,it,!t.collapsed,t.collapsed)),e.xp6(2),e.Q6J("items",t.toolbarItems))},dependencies:[p.mk,Y,ot.n,ze.lC],styles:["[_nghost-%COMP%]{display:block;width:100%!important;overflow-y:hidden!important}  span.collapsed-item{height:6rem!important;display:block;width:6rem!important;padding:1.5rem;border-radius:9999px}  span.collapsed-item>i{margin-left:-3px!important;margin-top:-3px!important;text-align:center;font-size:3rem!important;line-height:3rem!important}  .dx-item.dx-list-item>.dx-item-content.dx-list-item-content>span.collapsed-item{border:3px solid white!important}  .dx-item.dx-list-item>.dx-item-content.dx-list-item-content>span.collapsed-item>i{color:#fff!important}  .dx-item.dx-list-item.dx-list-item-selected>.dx-item-content.dx-list-item-content>span.collapsed-item{border:3px solid#F2BE35!important}  .dx-item.dx-list-item.dx-list-item-selected>.dx-item-content.dx-list-item-content>span.collapsed-item>i{color:#f2be35!important}  body{overflow-y:hidden!important;width:100%!important;position:fixed!important;top:0!important;height:100vh!important}"]});var C=s(4850),at=s(3211);class B{constructor(o){this._categoriesRepository=o}execute(){return this._categoriesRepository.GetAncestorCategories().pipe((0,C.U)(o=>o.map(t=>({categoryID:t.CategoryID,categoryName:t.CategoryName,parentID:t.ParentID,parentName:t.ParentName,creationDate:t.CreationDate}))))}}B.\u0275fac=function(o){return new(o||B)(e.LFG(at.b))},B.\u0275prov=e.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"});var rt=s(2284),c=s(4943);function st(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dx-date-box",2),e.NdJ("valueChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onValueChange(a))}),e._UZ(1,"dxo-calendar-options",3,4),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("value",t.value)("min",t.min)("max",t.max)("elementAttr",t.elementAttr)}}function lt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dx-date-box",5),e.NdJ("valueChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.onValueChange(a))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.disabled)("value",t.value)("type",t.dateType)("elementAttr",t.elementAttr)("min",t.min)}}class Z{constructor(o){this.cdr=o,this.showDays=!1,this.dateType="date",this.elementAttr={class:"text-blueGray-600 bg-white rounded input-text shadow focus:outline-none focus:ring date-box"},this.value=null,this.onChangeFn=t=>{},this.onTouchedFn=()=>{}}ngAfterContentChecked(){this.cdr.detectChanges()}writeValue(o){this.value!=o&&(this.value=o,this.cdr.markForCheck())}registerOnChange(o){this.onChangeFn=o}registerOnTouched(o){this.onTouchedFn=o}onValueChange(o){this.onChangeFn(o)}}function Qe(n){return n>=x.Quadrillion?n/x.Quadrillion+"Q":n>=x.Trillion?n/x.Trillion+"T":n>=x.Billion?n/x.Billion+"B":n>=x.Million?n/x.Million+"M":n>=x.Thousand?n/x.Thousand+"K":n.toString()}Z.\u0275fac=function(o){return new(o||Z)(e.Y36(e.sBO))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-date-picker"]],inputs:{disabled:"disabled",max:"max",min:"min",showDays:"showDays",dateType:"dateType"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>Z),multi:!0}])],decls:3,vars:2,consts:[["monthAndYear",""],["displayFormat","dd/MM/yyyy","type","date",3,"disabled","value","type","elementAttr","min","valueChange",4,"ngIf","ngIfElse"],["type","date","id","calendar-container","displayFormat","monthAndYear",3,"value","min","max","elementAttr","valueChange"],["maxZoomLevel","year","minZoomLevel","century"],["calendar",""],["displayFormat","dd/MM/yyyy","type","date",3,"disabled","value","type","elementAttr","min","valueChange"]],template:function(o,t){if(1&o&&(e.YNc(0,st,3,4,"ng-template",null,0,e.W1O),e.YNc(2,lt,1,5,"dx-date-box",1)),2&o){const i=e.MAs(1);e.xp6(2),e.Q6J("ngIf",t.showDays)("ngIfElse",i)}},dependencies:[p.O5,rt.M,c.r35],styles:[".date-box{background-color:#fff!important;border-color:#71717a!important;border-width:1px!important;padding:0rem 0rem 0rem .75rem!important;font-size:1rem!important;line-height:1.35715!important;height:2.5rem!important}"],changeDetection:0});var x=(()=>{return(n=x||(x={}))[n.Thousand=1e3]="Thousand",n[n.Million=1e6]="Million",n[n.Billion=1e9]="Billion",n[n.Trillion=1e12]="Trillion",n[n.Quadrillion=1e15]="Quadrillion",x;var n})(),S=(()=>{return(n=S||(S={}))[n.Year=0]="Year",n[n.Month=1]="Month",n[n.Day=2]="Day",S;var n})(),l=s(655),u=s(8282),m=s(765),Ee=s(681);class g extends Ee.H{GetDailySales(o){return null}GetDailySalesByCategory(o){return null}GetMonthlySales(o){return null}GetMonthlySalesByCategory(o){return null}GetYearlySales(o){return null}GetYearlySalesByCategory(o){return null}}g.\u0275fac=function(){let n;return function(t){return(n||(n=e.n5z(g)))(t||g)}}(),g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),(0,l.gn)([(0,m.HT)("Dashboard/GetDailySales"),(0,l.fM)(0,(0,u.AE)("reportDate"))],g.prototype,"GetDailySales",null),(0,l.gn)([(0,m.HT)("Dashboard/GetDailySalesByCategory"),(0,l.fM)(0,(0,u.AE)("reportDate"))],g.prototype,"GetDailySalesByCategory",null),(0,l.gn)([(0,m.HT)("Dashboard/GetMonthlySales"),(0,l.fM)(0,(0,u.AE)("reportDate"))],g.prototype,"GetMonthlySales",null),(0,l.gn)([(0,m.HT)("Dashboard/GetMonthlySalesByCategory"),(0,l.fM)(0,(0,u.AE)("reportDate"))],g.prototype,"GetMonthlySalesByCategory",null),(0,l.gn)([(0,m.HT)("Dashboard/GetYearlySales"),(0,l.fM)(0,(0,u.AE)("reportDate"))],g.prototype,"GetYearlySales",null),(0,l.gn)([(0,m.HT)("Dashboard/GetYearlySalesByCategory"),(0,l.fM)(0,(0,u.AE)("reportDate"))],g.prototype,"GetYearlySalesByCategory",null);class R{constructor(o){this._dashboardRepository=o}execute(o){return this._dashboardRepository.GetDailySalesByCategory(o.toYearMonthDay()).pipe((0,C.U)(t=>t.map(i=>({categoryName:i.AncestorName,categoryID:i.AncestorID,statusID:i.StatusID,ordersCost:i.OrdersCost,ordersItemsCount:i.OrdersItems,ordersCount:i.OrdersCount}))))}}R.\u0275fac=function(o){return new(o||R)(e.LFG(g))},R.\u0275prov=e.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"});var He=s(1042);function dt(n,o){if(1&n&&(e.TgZ(0,"dxi-series",6)(1,"dxo-label",7),e._UZ(2,"dxo-connector",8),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("argumentField",t.argumentField)("valueField",t.valueField),e.xp6(1),e.Q6J("visible",i.showLabel)("customizeText",i.customizeText)}}class O{constructor(){this.title="",this.titlePosition="top",this.titleSize=28,this.showLegend=!0,this.showLabel=!0,this.legendAlignment="bottom",this.legendOrientation="horizontal",this.seriesList=[],this.resolveLabelOverlapping="shift"}ngOnInit(){}ngOnChanges(o){o.dataSource.currentValue&&this.chart&&(this.chart.instance.refresh(),this.chart.instance.render())}}O.\u0275fac=function(o){return new(o||O)},O.\u0275cmp=e.Xpm({type:O,selectors:[["app-pie-chart"]],viewQuery:function(o,t){if(1&o&&e.Gf(He.U,5),2&o){let i;e.iGM(i=e.CRH())&&(t.chart=i.first)}},inputs:{dataSource:"dataSource",title:"title",titlePosition:"titlePosition",titleSize:"titleSize",showLegend:"showLegend",showLabel:"showLabel",legendAlignment:"legendAlignment",legendOrientation:"legendOrientation",seriesList:"seriesList",resolveLabelOverlapping:"resolveLabelOverlapping",size:"size",customizeText:"customizeText",customizeTooltip:"customizeTooltip",onPointClick:"onPointClick"},features:[e.TTD],decls:6,vars:12,consts:[["id","chart","palette","bright",3,"dataSource","size","resolveLabelOverlapping","onPointClick"],[3,"argumentField","valueField",4,"ngFor","ngForOf"],[3,"text","verticalAlignment"],[3,"size"],["horizontalAlignment","center","itemTextPosition","top","position","outside",3,"visible","verticalAlignment","orientation"],[3,"enabled","customizeTooltip"],[3,"argumentField","valueField"],[3,"visible","customizeText"],["visible","true","width","1"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-pie-chart",0),e.NdJ("onPointClick",function(a){return t.onPointClick(a)}),e.YNc(1,dt,3,4,"dxi-series",1),e.TgZ(2,"dxo-title",2),e._UZ(3,"dxo-font",3),e.qZA(),e._UZ(4,"dxo-legend",4)(5,"dxo-tooltip",5),e.qZA()),2&o&&(e.Q6J("dataSource",t.dataSource)("size",t.size)("resolveLabelOverlapping",t.resolveLabelOverlapping),e.xp6(1),e.Q6J("ngForOf",t.seriesList),e.xp6(1),e.Q6J("text",t.title)("verticalAlignment",t.titlePosition),e.xp6(1),e.Q6J("size",t.titleSize),e.xp6(1),e.Q6J("visible",t.showLegend)("verticalAlignment",t.legendAlignment)("orientation",t.legendOrientation),e.xp6(1),e.Q6J("enabled",void 0!==t.customizeTooltip)("customizeTooltip",t.customizeTooltip))},dependencies:[p.sg,c.sBj,c.zVO,c.POg,c.l5v,c.T87,c.bcN,c.v6i,He.U],styles:["#chart{width:100%!important;height:100%!important}  .dxc-tooltip{z-index:100000!important}"]});var ct=s(7763);class b{constructor(){this.loadingVisible=!1}}b.\u0275fac=function(o){return new(o||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-load-panel"]],inputs:{loadingVisible:"loadingVisible",position:"position"},decls:1,vars:6,consts:[["shadingColor","rgba(0,0,0,0.4)",3,"visible","showIndicator","showPane","shading","position","hideOnOutsideClick","visibleChange"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-load-panel",0),e.NdJ("visibleChange",function(a){return t.loadingVisible=a}),e.qZA()),2&o&&e.Q6J("visible",t.loadingVisible)("showIndicator",!0)("showPane",!0)("shading",!0)("position",t.position)("hideOnOutsideClick",!1)},dependencies:[ct.Z],encapsulation:2});class G{constructor(){}ngOnInit(){this.labelType===S.Year?this.rptDate=this.reportDate.getFullYear().toString():this.labelType===S.Month?this.rptDate=this.reportDate.toMonthNameYear():this.labelType===S.Day&&(this.rptDate=this.reportDate.toDayMonthYear())}}G.\u0275fac=function(o){return new(o||G)},G.\u0275cmp=e.Xpm({type:G,selectors:[["app-info-labels"]],inputs:{cost:"cost",count:"count",reportDate:"reportDate",labelType:"labelType"},decls:12,vars:7,consts:[[1,"cards-column"],[1,"w-1/2","card","card-green","px-2","mx-2"],[1,"card-multi-main-title"],[1,"card-multi-sub-title"],[1,"w-1/2","card","card-blue","px-2","mx-2"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"a",1)(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.ALo(6,"currency"),e.qZA()(),e.TgZ(7,"a",4)(8,"span",2),e._uU(9),e.qZA(),e.TgZ(10,"span",3),e._uU(11),e.qZA()()()),2&o&&(e.xp6(3),e.hij("Total Sales (",t.rptDate,")"),e.xp6(2),e.Oqu(e.xi3(6,4,t.cost,"EGP")),e.xp6(4),e.hij("Number of Products (",t.rptDate,")"),e.xp6(2),e.Oqu(null==t.count?null:t.count.toLocaleString("en-US")))},dependencies:[p.H9],styles:[".cards-column[_ngcontent-%COMP%]{display:flex}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:0 19px 38px #0000004d,0 15px 12px #00000038;border-color:transparent;color:#fff;border-radius:10px;height:82px}.card-multi-main-title[_ngcontent-%COMP%]{font-size:12pt}.card-multi-sub-title[_ngcontent-%COMP%]{font-size:18pt;font-weight:700}.card-green[_ngcontent-%COMP%]{background:#009900}.card-blue[_ngcontent-%COMP%]{background:#00537e}.card-orange[_ngcontent-%COMP%]{background:#fd7c28}.card-darkblue[_ngcontent-%COMP%]{background:#00243d}"]});class ve{constructor(o){this._getDailySalesByCategoryUseCase=o,this.loadingVisible=!1,this.size={width:"100%",height:"100%"},this.title="Daily Sales By Category",this.seriesList=[{valueField:"ordersCost",argumentField:"categoryName"}],this.labelType=S.Day,this.customizeCategoryLabel=t=>t.argumentText+"("+t.percentText+")",this.customizeCategoryTooltip=t=>({text:"Sales: EGP"+t.point.data.ordersCost.toLocaleString("en-US")+"\n# Products: "+t.point.data.ordersItemsCount.toLocaleString("en-US")+"\n"})}ngOnInit(){this.dayData.reportDate&&(this.loadingVisible=!0,this._getDailySalesByCategoryUseCase.execute(this.dayData.reportDate).subscribe(o=>{this.dataSource=o,this.setCostAndCount(),this.loadingVisible=!1}))}setCostAndCount(){this.cost=0,this.count=0,this.dataSource.forEach(o=>{this.cost+=o.ordersCost,this.count+=o.ordersItemsCount})}}ve.\u0275fac=function(o){return new(o||ve)(e.Y36(R))},ve.\u0275cmp=e.Xpm({type:ve,selectors:[["app-daily-sales-by-category"]],inputs:{dayData:"dayData",title:"title"},decls:6,vars:13,consts:[[1,"flex","flex-wrap","h-full"],[1,"w-full"],[3,"cost","count","reportDate","labelType"],[3,"size","titleSize","seriesList","dataSource","showLegend","customizeText","customizeTooltip","title"],[3,"loadingVisible"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-info-labels",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-pie-chart",3),e.qZA()(),e._UZ(5,"app-load-panel",4)),2&o&&(e.xp6(2),e.Q6J("cost",t.cost)("count",t.count)("reportDate",t.dayData.reportDate)("labelType",t.labelType),e.xp6(2),e.Q6J("size",t.size)("titleSize",22)("seriesList",t.seriesList)("dataSource",t.dataSource)("showLegend",!1)("customizeText",t.customizeCategoryLabel)("customizeTooltip",t.customizeCategoryTooltip)("title",t.title),e.xp6(1),e.Q6J("loadingVisible",t.loadingVisible))},dependencies:[O,b,G],encapsulation:2});class V{constructor(o){this._dashboardRepository=o}execute(o){return this._dashboardRepository.GetDailySales(o.toYearMonthDay()).pipe((0,C.U)(t=>t.map(i=>({reportDate:i.ReportDay,statusID:i.StatusID,ordersCost:i.OrdersCost,ordersItemsCount:i.OrdersItems,ordersCount:i.OrdersCount}))))}}V.\u0275fac=function(o){return new(o||V)(e.LFG(g))},V.\u0275prov=e.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"});var k=s(6444),Xe=s(1881);function pt(n,o){if(1&n&&e._UZ(0,"dxi-series",15),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("valueField",t.valueField)("type",t.type)("name",t.name)("axis",t.axis)("argumentField",t.argumentField)("rangeValue1Field",t.rangeValue1Field)("rangeValue2Field",t.rangeValue2Field)("border",t.border)("color",t.color)("barOverlapGroup",i.barOverlapGroup)("showInLegend",t.showSeriesInLegend)}}function ut(n,o){if(1&n&&e._UZ(0,"dxo-common-series-settings",16),2&n){const t=e.oxw();e.Q6J("argumentField",t.argumentField)("valueField",t.valueField)("type",t.type)}}function mt(n,o){if(1&n&&e._UZ(0,"dxo-series-template",17),2&n){const t=e.oxw();e.Q6J("nameField",t.nameField)}}function gt(n,o){if(1&n&&(e.TgZ(0,"dxi-value-axis",18),e._UZ(1,"dxo-label",19),e.qZA()),2&n){const t=e.oxw();e.Q6J("name",t.secondaryYAxisName),e.xp6(1),e.Q6J("customizeText",t.customizeSecondaryYAxisText)}}function ht(n,o){if(1&n&&(e.TgZ(0,"dxo-argument-axis",20),e._UZ(1,"dxo-label",21),e.qZA()),2&n){const t=e.oxw();e.Q6J("argumentType",t.xAxisType)("tickInterval",t.xAxisDateTickInterval),e.xp6(1),e.Q6J("format",t.dateFormat)("rotationAngle",t.rotationAngle)("overlappingBehavior",t.overlappingBehavior)}}function ft(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"dxo-argument-axis")(2,"dxo-label",22),e._UZ(3,"dxo-font",23),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("rotationAngle",t.rotationAngle)("overlappingBehavior",t.overlappingBehavior)("customizeText",t.customizeXAxisText),e.xp6(1),e.Q6J("size",t.xAxisFontSize)("family",t.xAxisFontFamily)}}function _t(n,o){1&n&&(e.TgZ(0,"dxo-argument-axis"),e._UZ(1,"dxo-label"),e.qZA())}class N{constructor(){this.xAxisFontSize=12,this.xAxisFontFamily="Segoe UI Light",this.rotateXAxisValue=!0,this.seriesList=[],this.secondaryAxisName="",this.yAxisTitle="",this.visualRange=[],this.xAxisDateTickInterval="month",this.dateFormat="MMM - yy",this.position="outside",this.verticalAlignment="bottom",this.horizontalAlignment="center",this.showSeriesInLegend=!0,this.showLegend=!0,this.enableExport=!1,this.legendFont=12,this.titleFont=14,this.overlappingBehavior="none",this.rotationAngle=-60,this.secondaryYAxisName=""}ngOnInit(){}ngOnChanges(o){o.dataSource.currentValue&&this.chart&&(this.chart.instance.refresh(),this.chart.instance.render()),o.rotateXAxisValue&&o.rotateXAxisValue.currentValue!==o.rotateXAxisValue.firstChange&&this.updateRotateXAxis(),this.updateSecondaryAxis()}updateRotateXAxis(){this.rotateXAxisValue&&(this.rotationAngle=-60,this.overlappingBehavior="rotate")}updateSecondaryAxis(){this.secondaryYAxisName=this.seriesList.find(o=>o.isSecondaryAxis)?.axis}}N.\u0275fac=function(o){return new(o||N)},N.\u0275cmp=e.Xpm({type:N,selectors:[["app-graph-chart"]],viewQuery:function(o,t){if(1&o&&e.Gf(Xe.q,5),2&o){let i;e.iGM(i=e.CRH())&&(t.chart=i.first)}},inputs:{type:"type",xAxisType:"xAxisType",xAxisFontSize:"xAxisFontSize",xAxisFontFamily:"xAxisFontFamily",nameField:"nameField",title:"title",valueField:"valueField",argumentField:"argumentField",valueAxis:"valueAxis",valueAxisLabelFormat:"valueAxisLabelFormat",dataSource:"dataSource",rotateXAxisValue:"rotateXAxisValue",seriesList:"seriesList",secondaryAxisName:"secondaryAxisName",yAxisTitle:"yAxisTitle",visualRange:"visualRange",tickInterval:"tickInterval",barOverlapGroup:"barOverlapGroup",barGroupPadding:"barGroupPadding",xAxisDateTickInterval:"xAxisDateTickInterval",dateFormat:"dateFormat",position:"position",verticalAlignment:"verticalAlignment",horizontalAlignment:"horizontalAlignment",showSeriesInLegend:"showSeriesInLegend",showLegend:"showLegend",size:"size",enableExport:"enableExport",legendFont:"legendFont",titleFont:"titleFont",onPointClick:"onPointClick",customizeYAxisText:"customizeYAxisText",customizeXAxisText:"customizeXAxisText",customizeSecondaryYAxisText:"customizeSecondaryYAxisText",customizeTooltip:"customizeTooltip",customizeLegendText:"customizeLegendText"},features:[e.TTD],decls:16,vars:26,consts:[["id","chart",3,"dataSource","barGroupPadding","valueAxis","size","onPointClick"],[3,"enabled","printingEnabled"],["horizontalAlignment","center",3,"text"],["color","black","family","Segoe UI Light","opacity","1","weight","900",3,"size"],[3,"valueField","type","name","axis","argumentField","rangeValue1Field","rangeValue2Field","border","color","barOverlapGroup","showInLegend",4,"ngFor","ngForOf"],[3,"argumentField","valueField","type",4,"ngIf"],[3,"nameField",4,"ngIf"],[3,"title","visualRange","tickInterval"],[3,"format","customizeText"],["position","right",3,"name",4,"ngIf"],[3,"enabled","customizeTooltip"],["itemTextPosition","right",3,"verticalAlignment","horizontalAlignment","position","customizeText"],[3,"argumentType","tickInterval",4,"ngIf"],[4,"ngIf","ngIfElse"],["normalXAxis",""],[3,"valueField","type","name","axis","argumentField","rangeValue1Field","rangeValue2Field","border","color","barOverlapGroup","showInLegend"],[3,"argumentField","valueField","type"],[3,"nameField"],["position","right",3,"name"],[3,"customizeText"],[3,"argumentType","tickInterval"],[3,"format","rotationAngle","overlappingBehavior"],[3,"rotationAngle","overlappingBehavior","customizeText"],[3,"size","family"]],template:function(o,t){if(1&o&&(e.TgZ(0,"dx-chart",0),e.NdJ("onPointClick",function(a){return t.onPointClick(a)}),e._UZ(1,"dxo-export",1),e.TgZ(2,"dxo-title",2),e._UZ(3,"dxo-font",3),e.qZA(),e.YNc(4,pt,1,11,"dxi-series",4),e.YNc(5,ut,1,3,"dxo-common-series-settings",5),e.YNc(6,mt,1,1,"dxo-series-template",6),e.TgZ(7,"dxi-value-axis",7),e._UZ(8,"dxo-label",8),e.qZA(),e.YNc(9,gt,2,2,"dxi-value-axis",9),e._UZ(10,"dxo-tooltip",10)(11,"dxo-legend",11),e.YNc(12,ht,2,5,"dxo-argument-axis",12),e.YNc(13,ft,4,5,"ng-container",13),e.YNc(14,_t,2,0,"ng-template",null,14,e.W1O),e.qZA()),2&o){const i=e.MAs(15);e.Q6J("dataSource",t.dataSource)("barGroupPadding",t.barGroupPadding)("valueAxis",t.valueAxis)("size",t.size),e.xp6(1),e.Q6J("enabled",t.enableExport)("printingEnabled",!1),e.xp6(1),e.Q6J("text",t.title),e.xp6(1),e.Q6J("size",t.titleFont),e.xp6(1),e.Q6J("ngForOf",t.seriesList),e.xp6(1),e.Q6J("ngIf",t.argumentField&&t.valueField),e.xp6(1),e.Q6J("ngIf",t.nameField),e.xp6(1),e.Q6J("title",t.yAxisTitle)("visualRange",t.visualRange)("tickInterval",t.tickInterval),e.xp6(1),e.Q6J("format",t.valueAxisLabelFormat)("customizeText",t.customizeYAxisText),e.xp6(1),e.Q6J("ngIf",t.secondaryYAxisName),e.xp6(1),e.Q6J("enabled",!0)("customizeTooltip",t.customizeTooltip),e.xp6(1),e.Q6J("verticalAlignment",t.verticalAlignment)("horizontalAlignment",t.horizontalAlignment)("position",t.position)("customizeText",t.customizeLegendText),e.xp6(1),e.Q6J("ngIf","datetime"===t.xAxisType),e.xp6(1),e.Q6J("ngIf",t.rotateXAxisValue)("ngIfElse",i)}},dependencies:[p.sg,p.O5,c.sBj,c.Ak0,Xe.q,c.zVO,c.NwO,c.POg,c.P_1,c.T87,c.bcN,c.F89,c.v6i,c.UQn],styles:["#chart{width:100%!important;height:100%!important}"],changeDetection:0});class be{constructor(o,t){this._getDailySalesUseCase=o,this._modalService=t,this.customizeYAxisText=i=>"0"===i.valueText?"":Qe(i.value),this.customizeTooltip=i=>{let a=i.point.data;return{text:"Day: "+a.reportDate.toDayMonthYear()+"\nSales: EGP"+a.ordersCost.toLocaleString("en-US")+"\n# Orders: "+a.ordersCount.toLocaleString("en-US")+"\n# Products: "+a.ordersItemsCount.toLocaleString("en-US")+"\n"}},this.loadingVisible=!1,this.size={width:"100%",height:"100%"},this.position={of:"#dayChart"},this.title="Daily Sales (EGP)",this.seriesList=[{valueField:"ordersCost",type:"Bar",argumentField:"reportDate",name:"Day Sales"}],this.valueAxis={label:{format:{type:"currency",currency:"EGP"}},showZero:!1},this.pointClicked=i=>{this._modalService.create({content:ve,title:"Daily Sales By Category ("+i.target.data.reportDate.toDayMonthYear()+")",showConfirmButton:!1,height:500,width:50,componentParams:{dayData:i.target.data}})}}ngOnChanges(o){this.reportDate=o.reportDate.currentValue,this.reportDate&&(this.loadingVisible=!0,this._getDailySalesUseCase.execute(this.reportDate).subscribe(t=>{this.dataSource=t,this.loadingVisible=!1}))}}be.\u0275fac=function(o){return new(o||be)(e.Y36(V),e.Y36(k.Z))},be.\u0275cmp=e.Xpm({type:be,selectors:[["app-daily-sales"]],inputs:{reportDate:"reportDate"},features:[e.TTD],decls:2,vars:12,consts:[["rotateXAxisValue","true","argumentField","reportDate","valueField","ordersCost","type","Bar","dateFormat","dd - MM - yyyy","xAxisDateTickInterval","day","xAxisType","datetime",3,"size","titleFont","valueAxis","valueAxisLabelFormat","customizeYAxisText","onPointClick","customizeTooltip","seriesList","dataSource","title"],[3,"loadingVisible","position"]],template:function(o,t){1&o&&e._UZ(0,"app-graph-chart",0)(1,"app-load-panel",1),2&o&&(e.Q6J("size",t.size)("titleFont",22)("valueAxis",t.valueAxis)("valueAxisLabelFormat",t.valueAxis.label)("customizeYAxisText",t.customizeYAxisText)("onPointClick",t.pointClicked)("customizeTooltip",t.customizeTooltip)("seriesList",t.seriesList)("dataSource",t.dataSource)("title",t.title),e.xp6(1),e.Q6J("loadingVisible",t.loadingVisible)("position",t.position))},dependencies:[N,b],encapsulation:2});class q{constructor(o){this._dashboardRepository=o}execute(o){return this._dashboardRepository.GetMonthlySalesByCategory(o.toYearMonthDay()).pipe((0,C.U)(t=>t.map(i=>({categoryName:i.AncestorName,categoryID:i.AncestorID,statusID:i.StatusID,ordersCost:i.OrdersCost,ordersItemsCount:i.OrdersItems,ordersCount:i.OrdersCount}))))}}q.\u0275fac=function(o){return new(o||q)(e.LFG(g))},q.\u0275prov=e.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"});class we{constructor(o){this._getMonthlySalesByCategoryUseCase=o,this.loadingVisible=!1,this.size={width:"100%",height:"100%"},this.title="Monthly Sales By Category",this.seriesList=[{valueField:"ordersCost",argumentField:"categoryName"}],this.labelType=S.Month,this.customizeCategoryLabel=t=>t.argumentText+"("+t.percentText+")",this.customizeCategoryTooltip=t=>({text:"Sales: EGP"+t.point.data.ordersCost.toLocaleString("en-US")+"\n# Products: "+t.point.data.ordersItemsCount.toLocaleString("en-US")+"\n"})}ngOnInit(){this.monthData.reportDate&&(this.loadingVisible=!0,this._getMonthlySalesByCategoryUseCase.execute(this.monthData.reportDate).subscribe(o=>{this.dataSource=o,this.setCostAndCount(),this.loadingVisible=!1}))}setCostAndCount(){this.cost=0,this.count=0,this.dataSource.forEach(o=>{this.cost+=o.ordersCost,this.count+=o.ordersItemsCount})}}we.\u0275fac=function(o){return new(o||we)(e.Y36(q))},we.\u0275cmp=e.Xpm({type:we,selectors:[["app-monthly-sales-by-category"]],inputs:{monthData:"monthData",title:"title"},decls:6,vars:13,consts:[[1,"flex","flex-wrap","h-full"],[1,"w-full"],[3,"cost","count","reportDate","labelType"],[3,"size","titleSize","seriesList","dataSource","showLegend","customizeText","customizeTooltip","title"],[3,"loadingVisible"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-info-labels",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-pie-chart",3),e.qZA()(),e._UZ(5,"app-load-panel",4)),2&o&&(e.xp6(2),e.Q6J("cost",t.cost)("count",t.count)("reportDate",t.monthData.reportDate)("labelType",t.labelType),e.xp6(2),e.Q6J("size",t.size)("titleSize",22)("seriesList",t.seriesList)("dataSource",t.dataSource)("showLegend",!1)("customizeText",t.customizeCategoryLabel)("customizeTooltip",t.customizeCategoryTooltip)("title",t.title),e.xp6(1),e.Q6J("loadingVisible",t.loadingVisible))},dependencies:[O,b,G],encapsulation:2});class H{constructor(o){this._dashboardRepository=o}execute(o){return this._dashboardRepository.GetMonthlySales(o.toYearMonthDay()).pipe((0,C.U)(t=>t.map(i=>({reportDate:i.ReportMonth,statusID:i.StatusID,ordersCost:i.OrdersCost,ordersItemsCount:i.OrdersItems,ordersCount:i.OrdersCount}))))}}H.\u0275fac=function(o){return new(o||H)(e.LFG(g))},H.\u0275prov=e.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"});class Se{constructor(o,t){this._getMonthlySalesUseCase=o,this._modalService=t,this.customizeYAxisText=i=>"0"===i.valueText?"":Qe(i.value),this.customizeTooltip=i=>{let a=i.point.data;return{text:"Month: "+a.reportDate.toMonthNameYear()+"\nSales: EGP "+a.ordersCost.toLocaleString("en-US")+"\n# Orders: "+a.ordersCount.toLocaleString("en-US")+"\n# Products: "+a.ordersItemsCount.toLocaleString("en-US")+"\n"}},this.loadingVisible=!1,this.size={width:"100%",height:"100%"},this.position={of:"#monthChart"},this.title="Monthly Sales (EGP)",this.seriesList=[{valueField:"ordersCost",type:"Bar",argumentField:"reportDate",name:"Month Sales"}],this.valueAxis={label:{format:{type:"currency",currency:"EGP"}},showZero:!1},this.pointClicked=i=>{this._modalService.create({content:we,title:"Monthly Sales By Category ("+i.target.data.reportDate.toMonthNameYear()+")",showConfirmButton:!1,height:500,width:50,componentParams:{monthData:i.target.data}})}}ngOnChanges(o){this.reportDate=o.reportDate.currentValue,this.reportDate&&(this.loadingVisible=!0,this._getMonthlySalesUseCase.execute(this.reportDate).subscribe(t=>{this.dataSource=t,this.loadingVisible=!1}))}}Se.\u0275fac=function(o){return new(o||Se)(e.Y36(H),e.Y36(k.Z))},Se.\u0275cmp=e.Xpm({type:Se,selectors:[["app-monthly-sales"]],inputs:{reportDate:"reportDate"},features:[e.TTD],decls:2,vars:12,consts:[["rotateXAxisValue","true","argumentField","reportDate","valueField","ordersCost","type","Bar","dateFormat","MMM-yyyy","xAxisDateTickInterval","month","xAxisType","datetime",3,"size","titleFont","valueAxis","valueAxisLabelFormat","onPointClick","customizeYAxisText","customizeTooltip","seriesList","dataSource","title"],[3,"loadingVisible","position"]],template:function(o,t){1&o&&e._UZ(0,"app-graph-chart",0)(1,"app-load-panel",1),2&o&&(e.Q6J("size",t.size)("titleFont",22)("valueAxis",t.valueAxis)("valueAxisLabelFormat",t.valueAxis.label)("onPointClick",t.pointClicked)("customizeYAxisText",t.customizeYAxisText)("customizeTooltip",t.customizeTooltip)("seriesList",t.seriesList)("dataSource",t.dataSource)("title",t.title),e.xp6(1),e.Q6J("loadingVisible",t.loadingVisible)("position",t.position))},dependencies:[N,b],encapsulation:2});class X{constructor(o){this._dashboardRepository=o}execute(o){return this._dashboardRepository.GetYearlySalesByCategory(o.toYearMonthDay()).pipe((0,C.U)(t=>t.map(i=>({categoryName:i.AncestorName,categoryID:i.AncestorID,statusID:i.StatusID,ordersCost:i.OrdersCost,ordersItemsCount:i.OrdersItems,ordersCount:i.OrdersCount}))))}}X.\u0275fac=function(o){return new(o||X)(e.LFG(g))},X.\u0275prov=e.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"});class Te{constructor(o){this._getYearlyByCategorySalesUseCase=o,this.loadingVisible=!1,this.size={width:"100%",height:"100%"},this.title="Yearly Sales By Category",this.seriesList=[{valueField:"ordersCost",argumentField:"categoryName"}],this.labelType=S.Year,this.customizeCategoryLabel=t=>t.argumentText+"("+t.percentText+")",this.customizeCategoryTooltip=t=>({text:"Sales: EGP"+t.point.data.ordersCost.toLocaleString("en-US")+"\n# Products: "+t.point.data.ordersItemsCount.toLocaleString("en-US")+"\n"})}ngOnInit(){this.yearData.reportDate&&(this.loadingVisible=!0,this._getYearlyByCategorySalesUseCase.execute(this.yearData.reportDate).subscribe(o=>{this.dataSource=o,this.setCostAndCount(),this.loadingVisible=!1}))}setCostAndCount(){this.cost=0,this.count=0,this.dataSource.forEach(o=>{this.cost+=o.ordersCost,this.count+=o.ordersItemsCount})}}Te.\u0275fac=function(o){return new(o||Te)(e.Y36(X))},Te.\u0275cmp=e.Xpm({type:Te,selectors:[["app-yearly-sales-by-category"]],inputs:{yearData:"yearData",title:"title"},decls:6,vars:13,consts:[[1,"flex","flex-wrap","h-full"],[1,"w-full"],[3,"cost","count","reportDate","labelType"],[3,"size","titleSize","seriesList","dataSource","showLegend","customizeText","customizeTooltip","title"],[3,"loadingVisible"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-info-labels",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-pie-chart",3),e.qZA()(),e._UZ(5,"app-load-panel",4)),2&o&&(e.xp6(2),e.Q6J("cost",t.cost)("count",t.count)("reportDate",t.yearData.reportDate)("labelType",t.labelType),e.xp6(2),e.Q6J("size",t.size)("titleSize",22)("seriesList",t.seriesList)("dataSource",t.dataSource)("showLegend",!1)("customizeText",t.customizeCategoryLabel)("customizeTooltip",t.customizeCategoryTooltip)("title",t.title),e.xp6(1),e.Q6J("loadingVisible",t.loadingVisible))},dependencies:[O,b,G],encapsulation:2});class K{constructor(o){this._dashboardRepository=o}execute(o){return this._dashboardRepository.GetYearlySales(o.toYearMonthDay()).pipe((0,C.U)(t=>t.map(i=>({reportDate:new Date(i.ReportYear,0,1),statusID:i.StatusID,ordersCost:i.OrdersCost,ordersItemsCount:i.OrdersItems,ordersCount:i.OrdersCount}))))}}K.\u0275fac=function(o){return new(o||K)(e.LFG(g))},K.\u0275prov=e.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"});class Fe{constructor(o,t){this._getYearlySalesUseCase=o,this._modalService=t,this.customizeYAxisText=i=>"0"===i.valueText?"":Qe(i.value),this.customizeTooltip=i=>{let a=i.point.data;return{text:"Year: "+a.reportDate.getFullYear()+"\nSales: EGP "+a.ordersCost.toLocaleString("en-US")+"\n# Orders: "+a.ordersCount.toLocaleString("en-US")+"\n# Products: "+a.ordersItemsCount.toLocaleString("en-US")+"\n"}},this.loadingVisible=!1,this.size={width:"100%",height:"100%"},this.position={of:"#yearChart"},this.title="Yearly Sales (EGP)",this.seriesList=[{valueField:"ordersCost",type:"Bar",argumentField:"reportDate",name:"Year Sales"}],this.valueAxis={label:{format:{type:"currency",precision:2,currency:"EGP"}},showZero:!1},this.pointClicked=i=>{this._modalService.create({content:Te,title:"Yearly Sales By Category ("+i.target.data.reportDate.getFullYear()+")",showConfirmButton:!1,height:500,width:50,componentParams:{yearData:i.target.data}})}}ngOnChanges(o){this.reportDate=o.reportDate.currentValue,this.reportDate&&(this.loadingVisible=!0,this._getYearlySalesUseCase.execute(this.reportDate).subscribe(t=>{this.dataSource=t,this.loadingVisible=!1}))}}Fe.\u0275fac=function(o){return new(o||Fe)(e.Y36(K),e.Y36(k.Z))},Fe.\u0275cmp=e.Xpm({type:Fe,selectors:[["app-yearly-sales"]],inputs:{reportDate:"reportDate"},features:[e.TTD],decls:2,vars:12,consts:[["id","yearChart","rotateXAxisValue","true","type","Bar","dateFormat","yyyy","xAxisDateTickInterval","year","xAxisType","datetime",3,"size","titleFont","customizeYAxisText","customizeTooltip","valueAxisLabelFormat","onPointClick","valueAxis","seriesList","dataSource","title"],[3,"loadingVisible","position"]],template:function(o,t){1&o&&e._UZ(0,"app-graph-chart",0)(1,"app-load-panel",1),2&o&&(e.Q6J("size",t.size)("titleFont",22)("customizeYAxisText",t.customizeYAxisText)("customizeTooltip",t.customizeTooltip)("valueAxisLabelFormat",t.valueAxis.label)("onPointClick",t.pointClicked)("valueAxis",t.valueAxis)("seriesList",t.seriesList)("dataSource",t.dataSource)("title",t.title),e.xp6(1),e.Q6J("loadingVisible",t.loadingVisible)("position",t.position))},dependencies:[N,b],encapsulation:2});class Ae{constructor(o){this._getAncestorCategoriesUsecase=o}ngOnInit(){this.reportDate=new Date,this._getAncestorCategoriesUsecase.execute().subscribe(o=>this.ancestors=o)}}Ae.\u0275fac=function(o){return new(o||Ae)(e.Y36(B))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["app-dashboard"]],decls:22,vars:4,consts:[[1,"wrapper"],[1,"overflow-x-hidden","overflow-y-auto","h-screen","px-4","pt-4","pb-20"],[1,"flex","flex-wrap"],[1,"w-7/12"],[1,"text-4xl","font-normal","leading-normal","mx-1","mb-2","font-bold","w-full"],[1,"w-5/12"],[1,"dx-fieldset","mt-0"],[1,"dx-field"],[1,"dx-field-label"],[1,"dx-field-value"],["dateType","date","showDays","true",3,"ngModel","ngModelChange"],[1,"w-full"],[1,"w-1/2","p-2"],[3,"reportDate"],[1,"w-full","p-2"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Dashboard"),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e._uU(10,"Report Date"),e.qZA(),e.TgZ(11,"div",9)(12,"app-date-picker",10),e.NdJ("ngModelChange",function(a){return t.reportDate=a}),e.qZA()()()()(),e.TgZ(13,"div",2)(14,"div",11)(15,"div",2)(16,"div",12),e._UZ(17,"app-yearly-sales",13),e.qZA(),e.TgZ(18,"div",12),e._UZ(19,"app-monthly-sales",13),e.qZA(),e.TgZ(20,"div",14),e._UZ(21,"app-daily-sales",13),e.qZA()()()()()()()),2&o&&(e.xp6(12),e.Q6J("ngModel",t.reportDate),e.xp6(5),e.Q6J("reportDate",t.reportDate),e.xp6(2),e.Q6J("reportDate",t.reportDate),e.xp6(2),e.Q6J("reportDate",t.reportDate))},dependencies:[d.JJ,d.On,Z,be,Se,Fe],encapsulation:2});var h=(()=>{return(n=h||(h={})).Text="Text",n.Number="Number",n.DayMonthYear="Day-Month-Year",n.MonthYear="Month-Year",n.Year="Year",n.YesNo="Yes/No",n.Country="Country",h;var n})(),A=(()=>{return(n=A||(A={}))[n.ByQuantity=0]="ByQuantity",n[n.ByWeight=1]="ByWeight",A;var n})(),U=(()=>{return(n=U||(U={}))[n.Valid=0]="Valid",n[n.Invalid=1]="Invalid",U;var n})(),D=(()=>{return(n=D||(D={}))[n.Error=0]="Error",n[n.Warning=1]="Warning",D;var n})(),z=(()=>{return(n=z||(z={}))[n.ProductName=0]="ProductName",n[n.ProductPrice=1]="ProductPrice",n[n.QuantityType=2]="QuantityType",n[n.ProductCategory=3]="ProductCategory",n[n.SpecField=4]="SpecField",z;var n})(),Ke=s(6006);class ${constructor(){this.accept="*",this.showFileList=!1,this.maxFileSize=0,this.multiple=!0,this.uploadMode="useForm",this.valueChanged=new e.vpe}onValueChanged(o){this.value=o.value,this.valueChanged.emit(this.value)}}$.\u0275fac=function(o){return new(o||$)},$.\u0275cmp=e.Xpm({type:$,selectors:[["app-file-uploader"]],viewQuery:function(o,t){if(1&o&&e.Gf(Ke.z,5),2&o){let i;e.iGM(i=e.CRH())&&(t.fileUploader=i.first)}},inputs:{allowedFileExtensions:"allowedFileExtensions",accept:"accept",showFileList:"showFileList",maxFileSize:"maxFileSize",multiple:"multiple",uploadMode:"uploadMode"},outputs:{valueChanged:"valueChanged"},decls:1,vars:6,consts:[[3,"multiple","uploadMode","showFileList","allowedFileExtensions","accept","maxFileSize","onValueChanged"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-file-uploader",0),e.NdJ("onValueChanged",function(a){return t.onValueChanged(a)}),e.qZA()),2&o&&e.Q6J("multiple",t.multiple)("uploadMode",t.uploadMode)("showFileList",t.showFileList)("allowedFileExtensions",t.allowedFileExtensions)("accept",t.accept)("maxFileSize",t.maxFileSize)},dependencies:[Ke.z],encapsulation:2});var yt=s(1505);class W{constructor(){this.title="",this.slideshowDelay=0,this.loop=!0,this.showIndicator=!0,this.showNavButtons=!0,this.size={height:350,width:400}}}W.\u0275fac=function(o){return new(o||W)},W.\u0275cmp=e.Xpm({type:W,selectors:[["app-gallery"]],inputs:{dataSource:"dataSource",title:"title",slideshowDelay:"slideshowDelay",loop:"loop",showIndicator:"showIndicator",showNavButtons:"showNavButtons",size:"size"},decls:2,vars:8,consts:[[1,"gallery-container"],[3,"dataSource","height","width","stretchImages","slideshowDelay","loop","showNavButtons","showIndicator"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"dx-gallery",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("dataSource",t.dataSource)("height",t.size.height)("width",t.size.width)("stretchImages",!1)("slideshowDelay",t.slideshowDelay)("loop",t.loop)("showNavButtons",t.showNavButtons)("showIndicator",t.showIndicator))},dependencies:[yt.X],styles:[".gallery-container{width:70%!important;margin:0% 15%!important}"]});var De=(()=>{return(n=De||(De={})).TreeView="TreeView",n.GridView="GridView",De;var n})(),Ye=s(1059),$e=s(2599);function Ct(n,o){1&n&&e.Hsn(0)}class T{constructor(){this.key=null,this.value="value"}}T.\u0275fac=function(o){return new(o||T)},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-select-option"]],inputs:{key:"key",value:"value"},ngContentSelectors:["*"],decls:1,vars:0,template:function(o,t){1&o&&(e.F$t(),e.YNc(0,Ct,1,0,"ng-template"))},encapsulation:2});class F{constructor(o){this.cdr=o,this.optionList=[],this.value=null,this.elementAttr={class:"text-blueGray-600 bg-white rounded input-text shadow focus:outline-none focus:ring select-box"},this.onChangeFn=t=>{},this.onTouchedFn=()=>{}}ngAfterContentChecked(){this.cdr.detectChanges()}writeValue(o){this.value!==o&&(this.value=o),this.selectBox&&null!==this.selectBox.value&&null===o&&this.selectBox.writeValue(null),this.cdr.markForCheck()}registerOnChange(o){this.onChangeFn=o}registerOnTouched(o){this.onTouchedFn=o}ngAfterContentInit(){this.options.changes.pipe((0,Ye.O)(!0)).subscribe(()=>{this.optionList=this.options.toArray(),this.cdr.markForCheck()})}onValueChange(o){this.onChangeFn(o.value)}}F.\u0275fac=function(o){return new(o||F)(e.Y36(e.sBO))},F.\u0275cmp=e.Xpm({type:F,selectors:[["app-select"]],contentQueries:function(o,t,i){if(1&o&&e.Suo(i,T,4),2&o){let a;e.iGM(a=e.CRH())&&(t.options=a)}},viewQuery:function(o,t){if(1&o&&e.Gf($e._,5),2&o){let i;e.iGM(i=e.CRH())&&(t.selectBox=i.first)}},inputs:{disabled:"disabled",searchEnabled:"searchEnabled",showClearButton:"showClearButton"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>F),multi:!0}])],decls:1,vars:6,consts:[["displayExpr","value","valueExpr","key",3,"value","dataSource","elementAttr","disabled","searchEnabled","showClearButton","onValueChanged"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-select-box",0),e.NdJ("onValueChanged",function(a){return t.onValueChange(a)}),e.qZA()),2&o&&e.Q6J("value",t.value)("dataSource",t.optionList)("elementAttr",t.elementAttr)("disabled",t.disabled)("searchEnabled",t.searchEnabled)("showClearButton",t.showClearButton)},dependencies:[$e._],styles:[".select-box{background-color:#fff!important;border-color:#71717a!important;border-width:1px!important;padding-right:0rem!important;padding-left:.75rem!important;font-size:1rem!important;line-height:1.35715!important;height:2.5rem!important}"],changeDetection:0});var vt=s(1020);class j{constructor(o){this.cdr=o,this.enableThreeStateBehavior=!1,this.elementAttr={class:"font-bold"},this.value=null,this.onChangeFn=t=>{},this.onTouchedFn=()=>{}}ngAfterContentChecked(){this.cdr.detectChanges()}writeValue(o){this.value!=o&&(this.value=o,this.cdr.markForCheck())}registerOnChange(o){this.onChangeFn=o}registerOnTouched(o){this.onTouchedFn=o}onValueChange(o){this.onChangeFn(o)}}function bt(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"strong"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij("",t.fieldName,":")}}function wt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-checkbox",13),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.specValue=a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.specValue)("text",t.fieldName)}}function St(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.specValue=a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.specValue)}}function Tt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",15),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.specValue=a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.specValue)}}function Ft(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-date-picker",16),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.specValue=a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.specValue)}}function At(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-date-picker",17),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.specValue=a)}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.specValue)}}function Dt(n,o){if(1&n&&e._UZ(0,"app-select-option",20),2&n){const t=o.$implicit;e.Q6J("key",t)("value",t)}}function Mt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select",18),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.specValue=a)}),e.YNc(1,Dt,1,2,"app-select-option",19),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("ngModel",t.specValue),e.xp6(1),e.Q6J("ngForOf",i.yearsArray)}}function Pt(n,o){if(1&n&&e._UZ(0,"app-select-option",20),2&n){const t=o.$implicit;e.Q6J("key",t)("value",t)}}function It(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-select",18),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw().$implicit;return e.KtG(r.specValue=a)}),e.YNc(1,Pt,1,2,"app-select-option",19),e.qZA()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("ngModel",t.specValue),e.xp6(1),e.Q6J("ngForOf",i.Countries)}}function Zt(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",5),e.ynx(2,6),e.YNc(3,bt,3,1,"ng-template",null,7,e.W1O),e.YNc(5,wt,1,2,"ng-template",null,8,e.W1O),e.BQk(),e.TgZ(7,"div",9),e.ynx(8,10),e.YNc(9,St,1,1,"ng-template",11),e.YNc(10,Tt,1,1,"ng-template",11),e.YNc(11,Ft,1,1,"ng-template",11),e.YNc(12,At,1,1,"ng-template",11),e.YNc(13,Mt,2,2,"ng-template",11),e.YNc(14,It,2,2,"ng-template",11),e.BQk(),e.qZA()()()),2&n){const t=o.$implicit,i=e.MAs(4),a=e.MAs(6),r=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",t.fieldType===r.CategoryFieldType.YesNo?a:i),e.xp6(6),e.Q6J("ngSwitch",t.fieldType),e.xp6(1),e.Q6J("ngSwitchCase",r.CategoryFieldType.Text),e.xp6(1),e.Q6J("ngSwitchCase",r.CategoryFieldType.Number),e.xp6(1),e.Q6J("ngSwitchCase",r.CategoryFieldType.DayMonthYear),e.xp6(1),e.Q6J("ngSwitchCase",r.CategoryFieldType.MonthYear),e.xp6(1),e.Q6J("ngSwitchCase",r.CategoryFieldType.Year),e.xp6(1),e.Q6J("ngSwitchCase",r.CategoryFieldType.Country)}}j.\u0275fac=function(o){return new(o||j)(e.Y36(e.sBO))},j.\u0275cmp=e.Xpm({type:j,selectors:[["app-checkbox"]],inputs:{text:"text",iconSize:"iconSize",enableThreeStateBehavior:"enableThreeStateBehavior"},features:[e._Bn([{provide:d.JU,useExisting:(0,e.Gpc)(()=>j),multi:!0}])],decls:1,vars:4,consts:[[3,"iconSize","text","elementAttr","enableThreeStateBehavior","valueChange"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-check-box",0),e.NdJ("valueChange",function(a){return t.onValueChange(a)}),e.qZA()),2&o&&e.Q6J("iconSize",t.iconSize)("text",t.text)("elementAttr",t.elementAttr)("enableThreeStateBehavior",t.enableThreeStateBehavior)},dependencies:[vt.v],styles:[".dx-checkbox-icon{margin:7px!important}"],changeDetection:0});class ee{get CategoryFieldType(){return h}constructor(){this.yearsArray=Array.from({length:70},(o,t)=>(new Date).getFullYear()+-1*t),this.Countries=Ce.nh}}ee.\u0275fac=function(o){return new(o||ee)},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["app-product-specs"]],inputs:{specFieldsValues:"specFieldsValues"},decls:5,vars:1,consts:[[1,"text-blueGray-500","text-base","my-1","font-bold","px-3","py-2"],[1,"w-full","hu-full","overflow-y-auto"],[1,"flex","flex-wrap"],["class","dx-fieldset w-1/2 mt-0 mx-0 px-4",4,"ngFor","ngForOf"],[1,"dx-fieldset","w-1/2","mt-0","mx-0","px-4"],[1,"dx-field"],[3,"ngTemplateOutlet"],["normalField",""],["checkBoxField",""],[1,"dx-field-value","pt-0"],[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"dx-field-label"],[3,"ngModel","text","ngModelChange"],["type","text",1,"w-full","flex-1","text-blueGray-600","bg-white","rounded","input-text","shadow","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","number",1,"w-full","flex-1","text-blueGray-600","bg-white","rounded","input-text","shadow","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["dateType","date","showDays","true",3,"ngModel","ngModelChange"],["dateType","date",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["searchEnabled","true",3,"key","value",4,"ngFor","ngForOf"],["searchEnabled","true",3,"key","value"]],template:function(o,t){1&o&&(e.TgZ(0,"h6",0),e._uU(1,"Product Specifications"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,Zt,15,8,"div",3),e.qZA()()),2&o&&(e.xp6(4),e.Q6J("ngForOf",t.specFieldsValues))},dependencies:[p.sg,p.tP,p.RF,p.n9,d.Fj,d.wV,d.JJ,d.On,F,T,Z,j],encapsulation:2});var Me=s(5795);class _ extends Ee.H{SaveProduct(o){return null}GetAllProducts(){return null}GetCategoryProducts(o){return null}DeleteProducts(o){return null}}_.\u0275fac=function(){let n;return function(t){return(n||(n=e.n5z(_)))(t||_)}}(),_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),(0,l.gn)([(0,m.a4)("Products/SaveProduct"),(0,l.fM)(0,u.uT)],_.prototype,"SaveProduct",null),(0,l.gn)([(0,m.HT)("Products/GetAllProducts")],_.prototype,"GetAllProducts",null),(0,l.gn)([(0,m.HT)("Products/GetCategoryProducts"),(0,l.fM)(0,(0,u.AE)("categoryID"))],_.prototype,"GetCategoryProducts",null),(0,l.gn)([(0,m.a4)("Products/DeleteProducts"),(0,l.fM)(0,u.uT)],_.prototype,"DeleteProducts",null);class te{constructor(o){this._productsRepository=o}execute(o){return this._productsRepository.SaveProduct(o)}}te.\u0275fac=function(o){return new(o||te)(e.LFG(_))},te.\u0275prov=e.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"});class oe{constructor(o){this._productsRepository=o}execute(o){return this._productsRepository.DeleteProducts(o).pipe()}}oe.\u0275fac=function(o){return new(o||oe)(e.LFG(_))},oe.\u0275prov=e.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"});class ne{constructor(o){this._productsRepository=o}execute(o){return this._productsRepository.GetCategoryProducts(o).pipe((0,C.U)(t=>t.map(i=>({productID:i.ProductID,creationDate:i.CreationDate,productName:i.ProductName,categoryID:i.CategoryID,categoryName:i.CategoryName,productPrice:i.ProductPrice,isByWeight:i.IsByWeight}))))}}ne.\u0275fac=function(o){return new(o||ne)(e.LFG(_))},ne.\u0275prov=e.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"});class ie{constructor(o){this._productsRepository=o}execute(){return this._productsRepository.GetAllProducts().pipe((0,C.U)(o=>o.map(t=>({productID:t.ProductID,creationDate:t.CreationDate,productName:t.ProductName,categoryID:t.CategoryID,categoryName:t.CategoryName,productPrice:t.ProductPrice,isByWeight:t.IsByWeight}))))}}ie.\u0275fac=function(o){return new(o||ie)(e.LFG(_))},ie.\u0275prov=e.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"});class M{constructor(o,t,i,a){this._saveProductUsecase=o,this._deleteProductsUsecase=t,this._getCategoryProductsUsecae=i,this._getAllProductsUsecase=a}validateProductData(o,t,i,a){let r={result:U.Invalid,invalidData:[]};return o||r.invalidData.push({dataEntityType:z.ProductName,errorType:D.Error}),i||r.invalidData.push({dataEntityType:z.ProductCategory,errorType:D.Error}),(!t||t<=0)&&r.invalidData.push({dataEntityType:z.ProductPrice,errorType:D.Error}),a!==A.ByQuantity&&a!==A.ByWeight&&r.invalidData.push({dataEntityType:z.QuantityType,errorType:D.Error}),r.invalidData?.any(v=>v.errorType===D.Error)||(r.result=U.Valid),r}saveProduct(o,t,i,a,r,v){let Ue={ProductName:o,CategoryID:i.categoryID,ProductPrice:t,IsByWeight:a==A.ByWeight,ProductSpecs:v?.map(Le=>({SpecID:Le.specFieldID,SpecValue:Le.specValue}))};const I=new FormData;return I.append("productModel",JSON.stringify(Ue)),r?.forEach((Le,ko)=>{I.append(`img${ko}`,Le.file)}),this._saveProductUsecase.execute(I)}deleteProducts(o){return this._deleteProductsUsecase.execute(o)}getAllProducts(){return this._getAllProductsUsecase.execute()}getCategoryProducts(o){return this._getCategoryProductsUsecae.execute(o)}generateErrorMessageFromValidationBody(o){if(o.result===U.Valid)return null;let t="Please make sure to fill the following fields: ";for(let i=0;i<o.invalidData?.length;i++)t+=o.invalidData[i].dataEntityType+",";return t}}M.\u0275fac=function(o){return new(o||M)(e.LFG(te),e.LFG(oe),e.LFG(ne),e.LFG(ie))},M.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac});class E{constructor(o){this.template=o}}function Ot(n,o){1&n&&e.Hsn(0)}E.\u0275fac=function(o){return new(o||E)(e.Y36(e.Rgc))},E.\u0275dir=e.lG2({type:E,selectors:[["","app-tab",""]]});class J{constructor(){this.title="",this.template=null}get content(){return this.template}}J.\u0275fac=function(o){return new(o||J)},J.\u0275cmp=e.Xpm({type:J,selectors:[["app-tab"]],contentQueries:function(o,t,i){if(1&o&&e.Suo(i,E,5,e.Rgc),2&o){let a;e.iGM(a=e.CRH())&&(t.template=a.first)}},inputs:{title:"title",index:"index"},ngContentSelectors:["*"],decls:2,vars:0,consts:[["contentTemplate",""]],template:function(o,t){1&o&&(e.F$t(),e.YNc(0,Ot,1,0,"ng-template",null,0,e.W1O))},encapsulation:2,changeDetection:0});var Be=s(7217),kt=s(4064);function Ut(n,o){}function zt(n,o){if(1&n&&(e.ynx(0),e.YNc(1,Ut,0,0,"ng-template",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.content)}}class Pe{constructor(){this.content=null,this.active=!1}}function Et(n,o){if(1&n&&(e.TgZ(0,"div")(1,"span",3),e._uU(2),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngClass",i.tabColor),e.xp6(1),e.Oqu(t.text)}}function Jt(n,o){if(1&n&&e._UZ(0,"div",8),2&n){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("active",i.selectTabIndex===(null==i.optionList[t.id]?null:i.optionList[t.id].index))("content",null==i.optionList[t.id]?null:i.optionList[t.id].content)}}function Lt(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"div",6),e.YNc(4,Jt,1,2,"div",7),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.optionList.length)}}Pe.\u0275fac=function(o){return new(o||Pe)},Pe.\u0275cmp=e.Xpm({type:Pe,selectors:[["","tab-body",""]],inputs:{content:"content",active:"active"},attrs:["tab-body",""],decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(o,t){1&o&&e.YNc(0,zt,2,1,"ng-container",0),2&o&&e.Q6J("ngIf",t.active)},dependencies:[p.O5,p.tP],encapsulation:2,changeDetection:0});class ae{constructor(o){this.cdr=o,this.tabs=[],this.selectTabIndex=0,this.showNavButtons=!1,this.tabColor="BlueGray",this.selectTabIndexChange=new e.vpe,this.tabChanged=new e.vpe,this.optionList=[]}ngAfterViewInit(){this.options.changes.pipe((0,Ye.O)(this.options)).subscribe(()=>{this.optionList=this.options.toArray(),this.tabs=this.optionList.map(o=>({id:o.index,text:o.title})),this.cdr.markForCheck()})}onContentReady(o){let t=document.getElementsByClassName("dx-tab");if(t?.length>0)for(let i=0;i<t.length;i++)t[i].classList.add(this.tabColor)}selectTab(o){this.selectTabIndex=o.itemIndex,this.tabChanged.emit(o),this.selectTabIndexChange.emit(o.itemIndex)}}ae.\u0275fac=function(o){return new(o||ae)(e.Y36(e.sBO))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["app-tabs"]],contentQueries:function(o,t,i){if(1&o&&e.Suo(i,J,4),2&o){let a;e.iGM(a=e.CRH())&&(t.options=a)}},inputs:{tabs:"tabs",selectTabIndex:"selectTabIndex",showNavButtons:"showNavButtons",tabColor:"tabColor"},outputs:{selectTabIndexChange:"selectTabIndexChange",tabChanged:"tabChanged"},decls:4,vars:8,consts:[["itemTitleTemplate","title","itemTemplate","template","width","100%","height","100%",3,"dataSource","selectedIndex","loop","animationEnabled","swipeEnabled","showNavButtons","selectedIndexChange","onTitleClick","onContentReady"],["tabPanel",""],[4,"dxTemplate","dxTemplateOf"],[3,"ngClass"],[1,"h-full","overflow-y-auto","overflow-x-hidden","px-2"],[1,"m-t-md","m-b-md"],[1,"tabpanel-item","col-lg-12"],["tab-body","",3,"active","content",4,"ngIf"],["tab-body","",3,"active","content"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-tab-panel",0,1),e.NdJ("selectedIndexChange",function(a){return t.selectTabIndex=a})("onTitleClick",function(a){return t.selectTab(a)})("onContentReady",function(a){return t.onContentReady(a)}),e.YNc(2,Et,3,2,"div",2),e.YNc(3,Lt,5,1,"div",2),e.qZA()),2&o&&(e.Q6J("dataSource",t.tabs)("selectedIndex",t.selectTabIndex)("loop",!1)("animationEnabled",!1)("swipeEnabled",!1)("showNavButtons",t.showNavButtons),e.xp6(2),e.Q6J("dxTemplateOf","title"),e.xp6(1),e.Q6J("dxTemplateOf","template"))},dependencies:[p.mk,p.O5,Be.p6,kt.I,Pe],styles:["[_ngcontent-%COMP%]::ng-host{display:contents}  .dx-tab{font-size:1rem!important;line-height:1rem!important;padding:1rem!important;border-radius:10px 10px 0 0!important;font-weight:700!important}  .modal-title{font-size:1.4rem!important;padding:.4rem!important;line-height:1.4rem!important;font-weight:700!important}  .dx-tab.dx-tab-selected>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#fff!important}  :not(.dx-tab-selected).dx-tab.BlueGray>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#64748b!important}  :not(.dx-tab-selected).dx-tab.Red>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#ef4444!important}  :not(.dx-tab-selected).dx-tab.Orange>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#f97316!important}  :not(.dx-tab-selected).dx-tab.Amber>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#f59e0b!important}  :not(.dx-tab-selected).dx-tab.Emerald>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#10b981!important}  :not(.dx-tab-selected).dx-tab.Teal>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#14b8a6!important}  :not(.dx-tab-selected).dx-tab.LightBlue>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#0ea5e9!important}  :not(.dx-tab-selected).dx-tab.Indigo>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#6366f1!important}  :not(.dx-tab-selected).dx-tab.dx-tab.Purple>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#a855f7!important}  :not(.dx-tab-selected).dx-tab.Pink>.dx-template-wrapper.dx-item-content.dx-tab-content>span{color:#ec4899!important}  .dx-tab.dx-tab-selected.BlueGray{background-color:#64748b!important;color:#fff!important}  .dx-tab.BlueGray{color:#64748b!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Red{background-color:#ef4444!important;color:#fff!important}  .dx-tab.Red{color:#ef4444!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Orange{background-color:#f97316!important;color:#fff!important}  .dx-tab.Orange{color:#f97316!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Amber{background-color:#f59e0b!important;color:#fff!important}  .dx-tab.Amber{color:#f59e0b!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Emerald{background-color:#10b981!important;color:#fff!important}  .dx-tab.Emerald{color:#10b981!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Teal{background-color:#14b8a6!important;color:#fff!important}  .dx-tab.Teal{color:#14b8a6!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.LightBlue{background-color:#0ea5e9!important;color:#fff!important}  .dx-tab.LightBlue{color:#0ea5e9!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Indigo{background-color:#6366f1!important;color:#fff!important}  .dx-tab.Indigo{color:#6366f1!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Purple{background-color:#a855f7!important;color:#fff!important}  .dx-tab.Purple{color:#a855f7!important;background-color:#fff!important}  .dx-tab.dx-tab-selected.Pink{background-color:#ec4899!important;color:#fff!important}  .dx-tab.Pink{color:#ec4899!important;background-color:#fff!important}"],changeDetection:0});var We=s(4494),je=s(4790),Qt=s(6430),Je=s(6908),Yt=s(6118),Bt=s(204),et=s(7762),Rt=s(2778),Vt=s(8833),qt=s(2795),Ht=s(8988);function Xt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",17)(3,"app-button",18),e.NdJ("clickEvent",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.exportTable("Excel"))}),e.qZA(),e.TgZ(4,"app-button",19),e.NdJ("clickEvent",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.exportTable("CSV"))}),e.qZA()()()()}}function Kt(n,o){if(1&n&&e._UZ(0,"dxo-selection",20),2&n){const t=e.oxw();e.Q6J("mode",t.selectionMode)}}function $t(n,o){1&n&&e._UZ(0,"dxi-column",21),2&n&&e.Q6J("width",40)}const Wt=function(n){return{Id:n}},jt=function(n){return[n]};function eo(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"dx-radio-group",22),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("value",i.selectedValue)("items",e.VKq(4,jt,e.VKq(2,Wt,t.data.id)))}}function to(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"dxi-column",27),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("dataField",t.dataField)("caption",t.name)("format",t.gridFormat)("cssClass",t.cssClass)("cellTemplate",t.hasCustomTemplate?"custom":null)("alignment",t.alignment)}}function oo(n,o){if(1&n&&(e.TgZ(0,"dxi-column",26),e.YNc(1,to,2,6,"ng-container",14),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("caption",t.name)("alignment",t.alignment),e.xp6(1),e.Q6J("ngForOf",t.nestedColumns)}}function no(n,o){if(1&n&&e._UZ(0,"dxi-column",28),2&n){const t=e.oxw().$implicit;e.Q6J("fixed",t.fixed)("fixedPosition",t.fixedPosition)("dataField",t.dataField)("caption",t.name)("format",t.gridFormat)("cellTemplate",t.hasCustomTemplate?"custom":null)("customizeText",t.customizeText)("alignment",t.alignment)("cssClass",t.cssClass)("dataType",t.gridType)("allowHeaderFiltering",t.allowHeaderFiltering)("allowSearch",t.allowSearch)("allowEditing",t.allowEditing)}}function io(n,o){if(1&n&&(e.ynx(0),e.GkF(1,23),e.YNc(2,oo,2,3,"ng-template",null,24,e.W1O),e.YNc(4,no,1,13,"ng-template",null,25,e.W1O),e.BQk()),2&n){const t=o.$implicit,i=e.MAs(3),a=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet","multi-header"===t.type?i:a)}}function ao(n,o){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-column-cell",29),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("column",i.getColumn(t.column.dataField))("text",t.data[t.column.dataField])("row",t.data)("id",t.data.id)("rowIndex",t.rowIndex)}}function ro(n,o){}const so=function(n){return{$implicit:n}};function lo(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ro,0,0,"ng-template",30),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",e.VKq(2,so,t.data))}}function co(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"dxi-total-item",31),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("column",t.name)("displayFormat",t.format)("summaryType",t.summeryOperation)("valueFormat",t.valueFormat)}}function po(n,o){if(1&n&&(e.ynx(0),e.YNc(1,co,2,4,"ng-container",14),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.summaries)}}class w extends Qt.y{constructor(o){super(),this.dataGridService=o,this.key="",this.pageSize=10,this.exportName="file",this.showSummary=!0,this.showExport=!1,this.showPageSizeSelector=!0,this.showPager=!0,this.showFilterRow=!0,this.columnAutoWidth=!1,this.selectedRows=[],this.hasCustom=!1,this.showHeaderFilter=!0,this.useIcons=!0,this.allowUpdating=!1,this.allowDeleting=!1,this.rowSelected=new e.vpe,this.rowsSelected=new e.vpe,this.cellClicked=new e.vpe,this.rowUpdating=new e.vpe,this.rowExpanded=new e.vpe,this.rowDeleting=new e.vpe,this.isRowSelection=!0,this.summaries=[],this.allowColumnResizing=!0,this.noDataTextEncoded="No Data",this.flattenColumns=[],this.allowedPageSizes=[5,10,20,50],this.showInfo=!0,this.pageDisplayMode="full",this.showBorders=!0,this.rowAlternationEnabled=!0,this.showRowLines=!0,this.showColumnLines=!0,this.summaryRendered=!1}ngOnChanges(o){const t=o.columns&&o.columns.currentValue!==o.columns.previousValue;t&&(this.flattenColumns=this.flattenNestedColumns(this.columns),this.columns=this.columns.map(a=>({...a,name:""===a.name?a.dataField:a.name,gridType:this.getColumnGridType(a.type),gridFormat:a.format??this.getColumnFormat(a.type),hasCustomTemplate:this.hasCustomTemplate(a.type),alignment:a.alignment??this.getColumnAlignment(a.type)}))),t&&this.generateGridSummery(o.columns.currentValue),o.dataSource&&o.dataSource.currentValue!==o.dataSource.previousValue&&(this.summaryRendered=!1)}ngAfterContentInit(){this.columnsComponents.changes.pipe((0,Ye.O)(!0)).subscribe(()=>{const o=this.columnsComponents.toArray();o.length<1||(this.columns=[],o.forEach(t=>this.columns.push(this.createColumn(t))),this.flattenColumns=this.flattenNestedColumns(this.columns))})}generateGridSummery(o){o.any(i=>void 0!==i.summeryType||void 0!==i.summeryOperation)&&(this.summaries=o.filter(i=>i.summeryType||i.summeryOperation).map(i=>({name:i.name,summeryOperation:i.summeryOperation??"sum",valueFormat:i.summeryType===Yt.d.Currency?"#,##0.00":"count"===i.summeryOperation?"":"##0.##",format:i.summeryMessage?Je.qm({message:i.summeryMessage,summeryType:i.summeryType}):Je.DQ(i.summeryType)})))}exportTable(o){const t=this.hasCustom,i=this.dxDataGrid.instance.getCombinedFilter()?this.dxDataGrid.instance.getDataSource().items():this.dataSource;t&&"Excel"==o?Je.bo(this.dxDataGrid.instance,this.createFileName(this.exportName),o):Je.rD(Bt.u.getFormattedDataSet(i,this.dxDataGrid),this.createFileName(this.exportName),o,this.dxDataGrid.instance.getVisibleColumns().filter(a=>void 0===a.type&&a.dataField).map(a=>a.caption),t?this.columns.map(a=>({dataField:a.dataField,type:a.type})):this.columns.filter(a=>a.dataField).map(a=>({dataField:a.dataField,type:a.type})),t,this.dxDataGrid.instance.getVisibleColumns())}onButtonsGroupClick(o,t){t(o)}onContentReady(o){this.showSummary&&this.addTableSummary(o)}addTableSummary(o){if(!this.summaryRendered){var{summaryNumbers:t,summaryRow:i}=this.extractSummery(o);t.length&&(this.reFormatSummary(t,i),this.summaryRendered=!0)}}extractSummery(o){const t=o.component.element().getElementsByClassName("dx-datagrid-table");let i=t[t.length-1].getElementsByTagName("tr")[0];return{summaryNumbers:Array.from(i.children).filter(v=>v.textContent).map(v=>v.textContent.split(" ")).flatten().filterNumbers(),summaryRow:i}}reFormatSummary(o,t){if(this.dxDataGrid.summary.totalItems){var i=this.dxDataGrid.summary.totalItems.map((a,r)=>({summeryFormat:a.displayFormat,summeryNumbers:(Math.round(100*+o[r])/100).toFixed(2).replace(".00","")}));t.innerHTML=this.dataGridService.createSummeryBar(i).innerHTML}}onRowClick(o){this.rowSelected.emit(o.key),this.selectedValue=o.key,this.isRowSelection=!1,o.component.selectRows([o.key],!1)}onSelectionChanged(o){this.isRowSelection||o.currentSelectedRowKeys.forEach(t=>{o.component.byKey(t).done(i=>{o.component.deselectRows(t),this.isRowSelection=!0})}),this.rowsSelected.emit(this.dxDataGrid.instance.getSelectedRowsData())}onCellClick(o){this.cellClicked.emit(o)}onRowUpdating(o){this.rowUpdating.emit(o)}onRowExpanded(o){this.rowExpanded.emit(o)}onRowRemoving(o){this.rowDeleting.emit(o)}getColumn(o){return this.flattenColumns.find(t=>t.dataField===o)}}w.\u0275fac=function(o){return new(o||w)(e.Y36(Rt.A))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-data-grid-client-side"]],contentQueries:function(o,t,i){if(1&o&&(e.Suo(i,e.Rgc,5),e.Suo(i,et.b,4)),2&o){let a;e.iGM(a=e.CRH())&&(t.templateRef=a.first),e.iGM(a=e.CRH())&&(t.columnsComponents=a)}},viewQuery:function(o,t){if(1&o&&e.Gf(je.e,5),2&o){let i;e.iGM(i=e.CRH())&&(t.dxDataGrid=i.first)}},inputs:{key:"key",pageSize:"pageSize",dataSource:"dataSource",columns:"columns",exportName:"exportName",selectionMode:"selectionMode",scrollMode:"scrollMode",nested:"nested",showSummary:"showSummary",showExport:"showExport",width:"width",height:"height",showPageSizeSelector:"showPageSizeSelector",showPager:"showPager",showFilterRow:"showFilterRow",columnAutoWidth:"columnAutoWidth",selectedRows:"selectedRows",hasCustom:"hasCustom",showHeaderFilter:"showHeaderFilter",useIcons:"useIcons",allowUpdating:"allowUpdating",allowDeleting:"allowDeleting"},outputs:{rowSelected:"rowSelected",rowsSelected:"rowsSelected",cellClicked:"cellClicked",rowUpdating:"rowUpdating",rowExpanded:"rowExpanded",rowDeleting:"rowDeleting"},features:[e.qOj,e.TTD],decls:20,vars:34,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],["id","gridContainer","columnResizingMode","nextColumn",3,"dataSource","allowColumnResizing","noDataText","showColumnLines","showRowLines","showBorders","rowAlternationEnabled","keyExpr","selectedRowKeys","columnAutoWidth","width","height","onContentReady","onRowClick","onCellClick","onRowUpdating","onRowRemoving","onRowExpanded","onSelectionChanged","onEditorPreparing"],["showCheckBoxesMode","always",3,"mode",4,"ngIf"],["mode","row",3,"useIcons","allowUpdating","allowDeleting"],["confirmDeleteMessage",""],[3,"mode","preloadEnabled"],["cellTemplate","singleSelectRowTemplate",3,"width",4,"ngIf"],["applyFilter","onClick",3,"visible"],[3,"visible"],[3,"pageSize"],[3,"visible","allowedPageSizes","displayMode","showPageSizeSelector","showInfo"],[4,"dxTemplate","dxTemplateOf"],[4,"ngFor","ngForOf"],["template","masterDetail",3,"enabled"],[4,"ngIf"],[1,"download-buttons","text-right"],["innerText","Excel","data-testid","export-to-excel","type","download","title","Download As Excel File","cssClasses","btn excel-btn",3,"clickEvent"],["innerText","CSV","data-testid","export-to-csv","type","download","title","Download As CSV File","cssClasses","btn csv-btn",3,"clickEvent"],["showCheckBoxesMode","always",3,"mode"],["cellTemplate","singleSelectRowTemplate",3,"width"],["valueExpr","Id",3,"value","items"],[3,"ngTemplateOutlet"],["multiHeader",""],["normal",""],[3,"caption","alignment"],[3,"dataField","caption","format","cssClass","cellTemplate","alignment"],[3,"fixed","fixedPosition","dataField","caption","format","cellTemplate","customizeText","alignment","cssClass","dataType","allowHeaderFiltering","allowSearch","allowEditing"],[3,"column","text","row","id","rowIndex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"column","displayFormat","summaryType","valueFormat"]],template:function(o,t){1&o&&(e.YNc(0,Xt,5,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"dx-data-grid",3),e.NdJ("onContentReady",function(a){return t.onContentReady(a)})("onRowClick",function(a){return t.onRowClick(a)})("onCellClick",function(a){return t.onCellClick(a)})("onRowUpdating",function(a){return t.onRowUpdating(a)})("onRowRemoving",function(a){return t.onRowRemoving(a)})("onRowExpanded",function(a){return t.onRowExpanded(a)})("onSelectionChanged",function(a){return t.onSelectionChanged(a)})("onEditorPreparing",function(a){return t.onEditorPreparing(a)}),e.YNc(4,Kt,1,1,"dxo-selection",4),e.TgZ(5,"dxo-editing",5),e._UZ(6,"dxo-texts",6),e.qZA(),e._UZ(7,"dxo-scrolling",7),e.YNc(8,$t,1,1,"dxi-column",8),e._UZ(9,"dxo-filter-row",9)(10,"dxo-header-filter",10)(11,"dxo-paging",11)(12,"dxo-pager",12),e.YNc(13,eo,2,6,"div",13),e.YNc(14,io,6,1,"ng-container",14),e.YNc(15,ao,2,5,"div",13),e._UZ(16,"dxo-master-detail",15),e.YNc(17,lo,2,4,"div",13),e.TgZ(18,"dxo-summary"),e.YNc(19,po,2,1,"ng-container",16),e.qZA()()()()),2&o&&(e.Q6J("ngIf",t.showExport),e.xp6(3),e.Q6J("dataSource",t.dataSource)("allowColumnResizing",t.allowColumnResizing)("noDataText",t.noDataTextEncoded)("showColumnLines",t.showColumnLines)("showRowLines",t.showRowLines)("showBorders",t.showBorders)("rowAlternationEnabled",t.rowAlternationEnabled)("keyExpr",t.key)("selectedRowKeys",t.selectedRows)("columnAutoWidth",t.columnAutoWidth)("width",t.width)("height",t.height),e.xp6(1),e.Q6J("ngIf","multiple"===t.selectionMode),e.xp6(1),e.Q6J("useIcons",t.useIcons)("allowUpdating",t.allowUpdating)("allowDeleting",t.allowDeleting),e.xp6(2),e.Q6J("mode",t.scrollMode)("preloadEnabled","virtual"===t.scrollMode),e.xp6(1),e.Q6J("ngIf","single"===t.selectionMode),e.xp6(1),e.Q6J("visible",t.showFilterRow),e.xp6(1),e.Q6J("visible",t.showHeaderFilter),e.xp6(1),e.Q6J("pageSize",t.pageSize),e.xp6(1),e.Q6J("visible",t.showPager)("allowedPageSizes",t.allowedPageSizes)("displayMode",t.pageDisplayMode)("showPageSizeSelector",t.showPageSizeSelector)("showInfo",t.showInfo),e.xp6(1),e.Q6J("dxTemplateOf","singleSelectRowTemplate"),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("dxTemplateOf","custom"),e.xp6(1),e.Q6J("enabled",t.nested),e.xp6(1),e.Q6J("dxTemplateOf","masterDetail"),e.xp6(2),e.Q6J("ngIf",t.showSummary))},dependencies:[p.sg,p.O5,p.tP,je.e,c.u10,c.qvW,c.tZE,c.Uo8,c.I62,c.N_X,c.ilc,c.sXh,c.PXJ,c.Lz9,c.owF,c.DTS,Be.p6,Vt.I,qt.r,Ht.I],styles:[".dropdown-menu-custom[_ngcontent-%COMP%]{cursor:pointer}.dropdown-menu-custom[_ngcontent-%COMP%]   a.dropdown-item[_ngcontent-%COMP%]{display:block!important;margin:10px 3px;color:#fff}.dropdown-menu-custom[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}.dropdown-menu-custom[_ngcontent-%COMP%]   a.dropdown-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:27px}#dropdownMenuButton[_ngcontent-%COMP%]{height:25px;width:25px}.dropdown-menu[_ngcontent-%COMP%]{left:85%;background:#6c6c6c;box-shadow:1px 3px 5px 1px #00000029;border-radius:5px}  tr.dx-row.dx-data-row.dx-column-lines{position:relative}  tr.dx-row.dx-data-row.dx-column-lines .dropdown{position:unset;text-align:center}.dropdown-menu-custom[_ngcontent-%COMP%]   a.dropdown-item[_ngcontent-%COMP%]   .downloadExcel[_ngcontent-%COMP%]{width:35px;height:35px}.download-buttons[_ngcontent-%COMP%]{margin-bottom:10px}  .dx-texteditor-input{padding-left:unset!important}  .dx-datagrid-header-panel{display:none!important}"]});var uo=s(6219);class re{constructor(){this.searchMode="contains",this.searchEnabled=!1,this.size={height:"100%",width:"100%"},this.onItemClick=new e.vpe}selectItem(o){this.onItemClick.emit(o)}}function mo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-tree-view",5),e.NdJ("onItemClick",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.setTreeSelection(a))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("dataSource",t.dataSource)("keyExpr",t.ID)("parentIdExpr",t.parentIdExpr)("displayExpr",t.displayExpr)}}function go(n,o){if(1&n&&e._UZ(0,"app-data-grid-client-side",6),2&n){const t=e.oxw(2);e.Q6J("dataSource",t.dataSource)}}function ho(n,o){if(1&n&&(e.TgZ(0,"div"),e.ynx(1,2),e.YNc(2,mo,1,4,"ng-template",null,3,e.W1O),e.YNc(4,go,1,1,"ng-template",null,4,e.W1O),e.BQk(),e.qZA()),2&n){const t=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}re.\u0275fac=function(o){return new(o||re)},re.\u0275cmp=e.Xpm({type:re,selectors:[["app-tree-view"]],inputs:{dataSource:"dataSource",searchMode:"searchMode",searchExpr:"searchExpr",keyExpr:"keyExpr",displayExpr:"displayExpr",parentIdExpr:"parentIdExpr",searchEnabled:"searchEnabled",size:"size"},outputs:{onItemClick:"onItemClick"},decls:2,vars:8,consts:[[1,"form"],["dataStructure","plain","selectionMode","single",3,"dataSource","displayExpr","searchExpr","keyExpr","parentIdExpr","selectByClick","width","height","onItemClick"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"dx-tree-view",1),e.NdJ("onItemClick",function(a){return t.selectItem(a)}),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("dataSource",t.dataSource)("displayExpr",t.displayExpr)("searchExpr",t.searchExpr)("keyExpr",t.keyExpr)("parentIdExpr",t.parentIdExpr)("selectByClick",!0)("width",t.size.width)("height",t.size.height))},dependencies:[uo.u],encapsulation:2});class Ie{constructor(o){this._changeDetectorRef=o,this.size={height:"100%",width:"100%"},this.dataSource=[],this.templateViewType=De.TreeView,this.valueChanged=new e.vpe,this.elementAttr={class:"text-blueGray-600 bg-white rounded input-text shadow focus:outline-none focus:ring drop-box"},this.opened=!1}setTreeSelection(o){this.value=o.itemData[this.valueExpr],this.opened=!1,this._changeDetectorRef.detectChanges(),this.valueChanged.emit(this.value)}checkForClear(o){null==this.value&&this.valueChanged.emit(this.value)}}function fo(n,o){if(1&n&&e._UZ(0,"app-select-option",22),2&n){const t=o.$implicit;e.Q6J("value",t.name)("key",t.id)}}function _o(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"h6",4),e._uU(1,"Product Information"),e.qZA(),e.TgZ(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11),e._uU(9,"Product Name"),e.qZA(),e.TgZ(10,"div",12)(11,"input",13),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.productName=a)}),e.qZA()()()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),e._uU(16,"Product Price"),e.qZA(),e.TgZ(17,"div",12)(18,"input",14),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.productPrice=a)}),e.qZA()()()()(),e.TgZ(19,"div",8)(20,"div",9)(21,"div",10)(22,"div",11),e._uU(23,"Quantity Type"),e.qZA(),e.TgZ(24,"div",12)(25,"app-select",15),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.quantityType=a)}),e.YNc(26,fo,1,2,"app-select-option",16),e.qZA()()()()(),e.TgZ(27,"div",8)(28,"div",9)(29,"div",10)(30,"div",11),e._uU(31,"Produt Category"),e.qZA(),e.TgZ(32,"div",12),e._UZ(33,"app-dropdown-box",17),e.qZA()()()()()(),e.TgZ(34,"div",18),e._UZ(35,"hr",19),e.TgZ(36,"div",20),e._UZ(37,"app-product-specs",21),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.productName),e.xp6(7),e.Q6J("ngModel",t.productPrice),e.xp6(7),e.Q6J("ngModel",t.quantityType),e.xp6(1),e.Q6J("ngForOf",t.quantityTypes),e.xp6(7),e.Q6J("dataSource",t.categories)("templateViewType",t.templateViewType),e.xp6(4),e.Q6J("specFieldsValues",t.productSpecValues)}}function yo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",7)(2,"div",24)(3,"h6",25),e._uU(4,"Upload Product Picture(s)"),e.qZA(),e.TgZ(5,"app-file-uploader",26),e.NdJ("valueChanged",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.updateProductPhotos(a))}),e.qZA()(),e.TgZ(6,"div",27),e._UZ(7,"app-gallery",28),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("allowedFileExtensions",t.allowedFileExtensions)("multiple",!0),e.xp6(2),e.Q6J("dataSource",t.imageFiles)}}Ie.\u0275fac=function(o){return new(o||Ie)(e.Y36(e.sBO))},Ie.\u0275cmp=e.Xpm({type:Ie,selectors:[["app-dropdown-box"]],viewQuery:function(o,t){if(1&o&&e.Gf(We.p,5),2&o){let i;e.iGM(i=e.CRH())&&(t.dropDown=i.first)}},inputs:{size:"size",dataSource:"dataSource",valueExpr:"valueExpr",displayExpr:"displayExpr",parentIdExpr:"parentIdExpr",templateViewType:"templateViewType"},outputs:{valueChanged:"valueChanged"},decls:2,vars:8,consts:[[3,"value","opened","dataSource","valueExpr","displayExpr","elementAttr","showClearButton","valueChange","openedChange","onValueChanged"],[4,"dxTemplate","dxTemplateOf"],[3,"ngTemplateOutlet"],["TreeView",""],["GridView",""],[3,"dataSource","keyExpr","parentIdExpr","displayExpr","onItemClick"],[3,"dataSource"]],template:function(o,t){1&o&&(e.TgZ(0,"dx-drop-down-box",0),e.NdJ("valueChange",function(a){return t.value=a})("openedChange",function(a){return t.opened=a})("onValueChanged",function(a){return t.checkForClear(a)}),e.YNc(1,ho,6,1,"div",1),e.qZA()),2&o&&(e.Q6J("value",t.value)("opened",t.opened)("dataSource",t.dataSource)("valueExpr",t.valueExpr)("displayExpr",t.displayExpr)("elementAttr",t.elementAttr)("showClearButton",!0),e.xp6(1),e.Q6J("dxTemplateOf","content"))},dependencies:[p.tP,Be.p6,We.p,w,re],styles:[".drop-box{background-color:#fff!important;border-color:#71717a!important;border-width:1px!important;padding-right:0rem!important;padding-left:.75rem!important;font-size:1rem!important;line-height:1.35715!important;height:2.5rem!important}"]});class Ze{constructor(o,t,i,a,r){this._modalRef=o,this._changeDetectorRef=t,this._notificationService=i,this._manageProductService=a,this._modalService=r,this.allowedFileExtensions=[".jpg",".jpeg",".gif",".png"],this.size={height:"60%",width:"60%"},this.imageFiles=[],this.quantityTypes=[{id:A.ByQuantity,name:"By Quantity"},{id:A.ByWeight,name:"By Weight"}],this.ImageSelected=!1,this.selectTabIndex=0,this.templateViewType=De.TreeView}ngOnInit(){this.productSpecValues=this.specFields?.map(o=>({specFieldID:o.id,fieldName:o.name,fieldType:o.type})),this.resSubscription=this._modalService.getResult().subscribe(()=>{}),this.closeReqSubscription=this._modalService.closeRequest.subscribe(()=>this.saveProduct())}ngOnDestroy(){this.resSubscription.unsubscribe(),this.closeReqSubscription.unsubscribe()}updateProductPhotos(o){o?.length>0&&o.forEach(t=>{var i=URL.createObjectURL(t);this.imageFiles.push({imageSrc:i,name:t.name,file:t})})}closeModal(o){this._modalRef.close(o)}toggleTabs(o){this.selectTabIndex=o}saveProduct(){if(this.validateProdObj=this._manageProductService.validateProductData(this.productName,this.productPrice,this.productCategory,this.quantityType),this.validateProdObj.result!==U.Invalid)this._manageProductService.saveProduct(this.productName,this.productPrice,this.productCategory,this.quantityType,this.imageFiles,this.productSpecValues).subscribe(()=>{this._notificationService.success("Product Saved Successfully"),this.closeModal(!0)},o=>this._notificationService.error(o));else{let o=this._manageProductService.generateErrorMessageFromValidationBody(this.validateProdObj);this._notificationService.error(o)}}}Ze.\u0275fac=function(o){return new(o||Ze)(e.Y36(k.b),e.Y36(e.sBO),e.Y36(Me.g),e.Y36(M),e.Y36(k.Z))},Ze.\u0275cmp=e.Xpm({type:Ze,selectors:[["app-add-product"]],viewQuery:function(o,t){if(1&o&&(e.Gf($,5),e.Gf(W,5),e.Gf(ee,5)),2&o){let i;e.iGM(i=e.CRH())&&(t.fileUploader=i.first),e.iGM(i=e.CRH())&&(t.gallery=i.first),e.iGM(i=e.CRH())&&(t.specsController=i.first)}},inputs:{categories:"categories",specFields:"specFields"},decls:5,vars:3,consts:[["tabColor","BlueGray",3,"selectTabIndex","selectTabIndexChange"],["title","Basic Information",3,"index"],["app-tab",""],["title","Product Pictures",3,"index"],[1,"w-full","text-blueGray-500","text-base","mt-3","mb-6","font-bold","px-3","py-2"],[1,"block"],[1,"w-full","px-3"],[1,"flex","flex-wrap"],[1,"w-1/2"],[1,"dx-fieldset","mt-0"],[1,"dx-field"],[1,"dx-field-label"],[1,"dx-field-value"],["type","text",1,"w-full","flex-1","text-blueGray-600","bg-white","rounded","input-text","shadow","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],["type","number","min","0.00","step","0.01",1,"w-full","flex-1","text-blueGray-600","bg-white","rounded","input-text","shadow","focus:outline-none","focus:ring","w-1/5",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value","key",4,"ngFor","ngForOf"],["valueExpr","categoryID","displayExpr","categoryName","parentIdExpr","parentID",3,"dataSource","templateViewType"],[1,"w-full","flex","flex-wrap"],[1,"mt-6","border-b-1","border-blueGray-300","w-full"],[1,"h-full","w-full"],[3,"specFieldsValues"],[3,"value","key"],[1,"block","h-full"],[1,"w-1/3"],[1,"text-blueGray-500","text-base","mt-3","mb-6","font-bold"],["accept","image/*",3,"allowedFileExtensions","multiple","valueChanged"],[1,"w-2/3","h-full","p-4"],[3,"dataSource"]],template:function(o,t){1&o&&(e.TgZ(0,"app-tabs",0),e.NdJ("selectTabIndexChange",function(a){return t.selectTabIndex=a}),e.TgZ(1,"app-tab",1),e.YNc(2,_o,38,7,"ng-template",2),e.qZA(),e.TgZ(3,"app-tab",3),e.YNc(4,yo,8,3,"ng-template",2),e.qZA()()),2&o&&(e.Q6J("selectTabIndex",t.selectTabIndex),e.xp6(1),e.Q6J("index",0),e.xp6(2),e.Q6J("index",1))},dependencies:[p.sg,d.Fj,d.wV,d.JJ,d.qQ,d.On,F,T,ae,J,E,W,$,Ie,ee],styles:['.required:after{content:"*"!important;color:red!important;margin:5px!important;font-weight:bolder!important}']});var Re=s(6331);class y extends Ee.H{GetAllSpecFields(){return null}AddSpecField(o,t){return null}DeleteSpecField(o){return null}UpdateSpecFieldName(o,t){return null}}y.\u0275fac=function(){let n;return function(t){return(n||(n=e.n5z(y)))(t||y)}}(),y.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),(0,l.gn)([(0,m.HT)("SpecificationFields/GetAllSpecFields")],y.prototype,"GetAllSpecFields",null),(0,l.gn)([(0,m.HT)("SpecificationFields/AddSpecField"),(0,l.fM)(0,(0,u.AE)("name")),(0,l.fM)(1,(0,u.AE)("type"))],y.prototype,"AddSpecField",null),(0,l.gn)([(0,m.HT)("SpecificationFields/DeleteSpecField"),(0,l.fM)(0,(0,u.AE)("id"))],y.prototype,"DeleteSpecField",null),(0,l.gn)([(0,m.HT)("SpecificationFields/UpdateSpecFieldName"),(0,l.fM)(0,(0,u.AE)("id")),(0,l.fM)(1,(0,u.AE)("name"))],y.prototype,"UpdateSpecFieldName",null);class se{constructor(o){this._specFieldsRepository=o}execute(o,t){return this._specFieldsRepository.AddSpecField(o,t)}}se.\u0275fac=function(o){return new(o||se)(e.LFG(y))},se.\u0275prov=e.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"});class le{constructor(o){this._specFieldsRepository=o}execute(o){return this._specFieldsRepository.DeleteSpecField(o)}}le.\u0275fac=function(o){return new(o||le)(e.LFG(y))},le.\u0275prov=e.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"});class de{constructor(o){this._specFieldsRepository=o}execute(){return this._specFieldsRepository.GetAllSpecFields().pipe((0,C.U)(o=>o.map(t=>({id:t.ID,name:t.FieldName,type:t.FieldType}))))}}de.\u0275fac=function(o){return new(o||de)(e.LFG(y))},de.\u0275prov=e.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"});class ce{constructor(o){this._specFieldsRepository=o}execute(o,t){return this._specFieldsRepository.UpdateSpecFieldName(o,t)}}ce.\u0275fac=function(o){return new(o||ce)(e.LFG(y))},ce.\u0275prov=e.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"});class P{constructor(o,t,i,a){this._addSpecFieldUsecase=o,this._deleteSpecFieldUsecase=t,this._getAllSpecFieldsUsecase=i,this._updateSpecFieldNameUsecase=a}getAllSpecFields(){return this._getAllSpecFieldsUsecase.execute()}addNewSpecField(o,t){return this._addSpecFieldUsecase.execute(o,t)}deleteSpecField(o){return this._deleteSpecFieldUsecase.execute(o)}updateSpecFieldName(o,t){return this._updateSpecFieldNameUsecase.execute(o,t)}}function Co(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.deleteSelectedProducts())}),e._uU(1," Delete Selected Product(s) "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.selectedProducts||0===t.selectedProducts.length)}}function xo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"h1",6),e._uU(1,"Manage Products"),e.qZA(),e.TgZ(2,"div",7),e.YNc(3,Co,2,1,"button",8),e.TgZ(4,"button",9),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.showNewProductModal())}),e._uU(5," Add New Product "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",(null==t.productsList?null:t.productsList.length)>0)}}function vo(n,o){if(1&n&&e._UZ(0,"img",12),2&n){const t=o.$implicit;e.MGl("src","data:image/jpg;base64,",null==t?null:t.productPhoto,"",e.LSH)}}function bo(n,o){if(1&n&&(e.TgZ(0,"app-column",11),e.YNc(1,vo,1,1,"ng-template",2),e.qZA()),2&n){const t=o.$implicit;e.Q6J("name",t.name)("dataField",t.dataField)("alignment",t.alignment)("type",t.type)("format",t.format),e.xp6(1),e.Q6J("ngIf","custom"===t.type)}}P.\u0275fac=function(o){return new(o||P)(e.LFG(se),e.LFG(le),e.LFG(de),e.LFG(ce))},P.\u0275prov=e.Yz7({token:P,factory:P.\u0275fac});class pe{constructor(o,t,i,a,r){this._notificationService=o,this._manageCategoriesService=t,this._manageProductsService=i,this._specificationFieldsSerivce=a,this._modalService=r,this.insideModal=!1,this.productColumns=[{dataField:"productName",name:"Product Name",alignment:"center"},{dataField:"categoryName",name:"Product Category",alignment:"center"},{dataField:"productPrice",name:"Price",alignment:"right",type:"currency"},{dataField:"creationDate",name:"Creation Date",alignment:"center",type:"date",format:"dd-MM-yyyy",allowHeaderFiltering:!1,allowSearch:!1}]}ngOnInit(){this.insideModal&&this.categoryID?this.getCategoryProducts():(this.selectionMode="multiple",this.getAllProducts(),this.getAllCategories(),this.getAllSpecFields())}selectedRows(o){this.selectedProducts=o}getAllProducts(){this.productsList=[],this._manageProductsService.getAllProducts().subscribe(o=>this.productsList=o,o=>this._notificationService.error(o))}getCategoryProducts(){this.productsList=[],this._manageProductsService.getCategoryProducts(this.categoryID).subscribe(o=>this.productsList=o,o=>this._notificationService.error(o))}getAllCategories(){this.categories=[],this._manageCategoriesService.getAllCategories().subscribe(o=>this.categories=o,o=>this._notificationService.error(o))}getAllSpecFields(){this.specFields=[],this._specificationFieldsSerivce.getAllSpecFields().subscribe(o=>this.specFields=o,o=>this._notificationService.error(o))}showNewProductModal(){this._modalService.create({content:Ze,width:70,height:600,title:"Add New Product",confirmText:"Save Product",cancelText:"Cancel",checkBeforeSubmit:!0,showConfirmButton:!0,componentParams:{categories:this.categories,specFields:this.specFields}}).onClose.subscribe(t=>{t.result&&this.getAllProducts()})}deleteSelectedProducts(){this._manageProductsService.deleteProducts(this.selectedProducts.map(o=>o.productID)).subscribe(o=>{this._notificationService.success("Product deleted successfully"),this.getAllProducts()},o=>this._notificationService.error(o))}}pe.\u0275fac=function(o){return new(o||pe)(e.Y36(Me.g),e.Y36(Re.z),e.Y36(M),e.Y36(P),e.Y36(k.Z))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["app-manage-product"]],inputs:{insideModal:"insideModal",categoryID:"categoryID"},decls:6,vars:4,consts:[[1,"overflow-y-auto"],[1,"overflow-x-hidden","h-screen","px-4","pt-4","pb-20"],[3,"ngIf"],[1,"w-full","p-4","shadow-lg","rounded","bg-white"],[3,"dataSource","selectionMode","rowsSelected"],[3,"name","dataField","alignment","type","format",4,"ngFor","ngForOf"],[1,"text-4xl","font-normal","leading-normal","m-1","font-bold","w-full"],[1,"w-full","px-4","h-16","mb-12"],["class","text-white bg-red-600 font-bold text-base p-3 rounded m-1 float-right",3,"disabled","click",4,"ngIf"],[1,"text-white","bg-blueGray-500","font-bold","text-base","p-3","rounded","m-1","float-right",3,"click"],[1,"text-white","bg-red-600","font-bold","text-base","p-3","rounded","m-1","float-right",3,"disabled","click"],[3,"name","dataField","alignment","type","format"],[2,"height","200px","width","200px",3,"src"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,xo,6,1,"ng-template",2),e.TgZ(3,"div",3)(4,"app-data-grid-client-side",4),e.NdJ("rowsSelected",function(a){return t.selectedRows(a)}),e.YNc(5,bo,2,6,"app-column",5),e.qZA()()()()),2&o&&(e.xp6(2),e.Q6J("ngIf",!t.insideModal),e.xp6(2),e.Q6J("dataSource",t.productsList)("selectionMode",t.selectionMode),e.xp6(1),e.Q6J("ngForOf",t.productColumns))},dependencies:[p.sg,p.O5,w,et.b],encapsulation:2});var wo=s(5254),So=s(5128);class L{constructor(){}confirm(o,t){let i=(0,So.iG)(t,o);return(0,wo.D)(i)}}function To(n,o){if(1&n&&e._UZ(0,"app-tree-view",30),2&n){const t=e.oxw(3);e.Q6J("dataSource",t.selectedCategoryChildren)}}function Fo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.viewCategoryProduct())}),e._uU(4,"View Products"),e.qZA()(),e.YNc(5,To,1,1,"ng-template",22),e._UZ(6,"hr",25),e.TgZ(7,"h6",26),e._uU(8,"Add Subcategory"),e.qZA(),e.TgZ(9,"div",11)(10,"div",27)(11,"div",28)(12,"div",6)(13,"div",7),e._uU(14,"Subcategory Name"),e.qZA(),e.TgZ(15,"div",8)(16,"input",9),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(2);return e.KtG(r.categoryName=a)}),e.qZA()()()()(),e.TgZ(17,"div",29)(18,"button",10),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.addNewCategory(a.selectedCategory.categoryID))}),e._uU(19,"Add"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.hij("",t.selectedCategory.categoryName," Subcategories "),e.xp6(3),e.Q6J("ngIf",(null==t.selectedCategoryChildren?null:t.selectedCategoryChildren.length)>0),e.xp6(11),e.Q6J("ngModel",t.categoryName)}}function Ao(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"h6",20),e._uU(4,"Categories"),e.qZA(),e.TgZ(5,"app-tree-view",21),e.NdJ("onItemClick",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedNode(a))}),e.qZA()(),e.YNc(6,Fo,20,3,"ng-template",22),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("dataSource",t.categories),e.xp6(1),e.Q6J("ngIf",t.selectedCategory)}}function Do(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"app-data-grid-client-side",32),e.NdJ("rowUpdating",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.updatCategoryName(a))})("rowDeleting",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteCategory(a))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.categories)("allowUpdating",!0)("allowDeleting",!0)("columns",t.categoryColumns)}}L.\u0275fac=function(o){return new(o||L)},L.\u0275prov=e.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"});class Oe{constructor(o,t,i,a){this._manageCategoryService=o,this._notificationService=t,this._modalService=i,this._confirmationService=a,this.fieldType="Text",this.isMandatory=!1,this.types=[h.Text,h.Year,h.MonthYear,h.DayMonthYear,h.Number,h.YesNo],this.selectTabIndex=0,this.categoryColumns=[{dataField:"categoryName",name:"Category Name",alignment:"center",allowUpdating:!0},{dataField:"parentName",name:"Parent Category",alignment:"center"},{dataField:"creationDate",name:"Creation Date",alignment:"center",type:"date",format:"dd-MM-yyyy",allowHeaderFiltering:!1,allowSearch:!1}]}ngOnInit(){this.getAllCategories()}getAllCategories(){this._manageCategoryService.getAllCategories().subscribe(o=>{this.categories=o,this.selectedCategory&&(this.selectedCategory=this.categories.find(t=>t.categoryID===this.selectedCategory.categoryID))})}selectedNode(o){this.categoryName=null,this.selectedCategory=o.itemData,this.getCategoryChildren()}getCategoryChildren(){this._manageCategoryService.getCategoryChildren(this.selectedCategory.categoryID).subscribe(o=>this.selectedCategoryChildren=o)}viewCategoryProduct(){this.selectedCategory?.categoryID&&this._modalService.create({content:pe,width:60,height:400,title:this.selectedCategory.categoryName+" Products",cancelText:"Close",showConfirmButton:!1,componentParams:{insideModal:!0,categoryID:this.selectedCategory.categoryID}})}addNewCategory(){this.categoryName?this._manageCategoryService.addNewCategory(this.categoryName).subscribe(()=>{this._notificationService.success("Category added successfully"),this.categoryName=null,this.getAllCategories()}):this._notificationService.error("Please enter category name")}addNewChildCategory(o){this.subCategoryName?this._manageCategoryService.addNewCategory(this.subCategoryName,o).subscribe(()=>{this._notificationService.success("Child Category added successfully"),this.categoryName=null,this.getAllCategories()}):this._notificationService.error("Please enter category name")}updatCategoryName(o){o.newData.categoryName&&""!==o.newData.categoryName?this.categories?.any(t=>t.categoryName===o.newData.categoryName)?this._notificationService.error("Name is missing"):this._manageCategoryService.updateCategoryName(o.key.categoryID,o.newData.categoryName).subscribe(()=>{this._notificationService.success("Category Name updated successfully"),this.getAllCategories()}):this._notificationService.error("Please enter category name")}deleteCategory(o){o.cancel=this._confirmationService.confirm("Delete Category","Deleting Category ["+o.key.categoryName+"] and all its child categories. Proceed ?").subscribe(t=>(t?this._manageCategoryService.deleteCategory(o.key.categoryID).subscribe(()=>{this._notificationService.success("Category deleted successfully"),this.getAllCategories()}):o.component.cancelEditData(),!t))}}Oe.\u0275fac=function(o){return new(o||Oe)(e.Y36(Re.z),e.Y36(Me.g),e.Y36(k.Z),e.Y36(L))},Oe.\u0275cmp=e.Xpm({type:Oe,selectors:[["app-manage-categories"]],decls:24,vars:4,consts:[[1,"wrapper"],[1,"overflow-x-hidden","overflow-y-auto","h-screen","px-4","pt-4","pb-20"],[1,"text-4xl","font-normal","leading-normal","mx-1","mb-2","font-bold","w-full"],[1,"flex","flex-wrap","mt-0"],[1,"w-1/2"],[1,"dx-fieldset"],[1,"dx-field"],[1,"dx-field-label"],[1,"dx-field-value"],["type","text",1,"w-full","flex-1","text-blueGray-600","bg-white","rounded","input-text","shadow","focus:outline-none","focus:ring",3,"ngModel","ngModelChange"],[1,"text-white","bg-blueGray-500","font-bold","text-base","py-2","px-3","rounded",3,"click"],[1,"flex","flex-wrap"],[1,"w-full","px-1"],["tabColor","BlueGray",3,"selectTabIndex","selectTabIndexChange"],["title","Tree View",3,"index"],["app-tab",""],["title","Grid View",3,"index"],[1,"overflow-x-hidden","overflow-y-auto","h-screen","p-1"],[1,"flex","flex-wrap","h-full"],[1,"w-1/2","px-4","border"],[1,"text-blueGray-500","text-base","my-1","font-bold","p-3"],["keyExpr","categoryID","parentIdExpr","parentID","displayExpr","categoryName",3,"dataSource","onItemClick"],[3,"ngIf"],[1,"w-1/2","px-2","border"],[1,"text-blueGray-500","text-lg","my-1","font-bold","px-2","py-3"],[1,"mt-6","border-b-1","border-blueGray-300","w-full"],[1,"text-blueGray-500","text-base","my-1","font-bold","p-2"],[1,"w-4/5"],[1,"dx-fieldset","mt-0"],[1,"w-1/5"],["keyExpr","categoryID","parentIdExpr","parentID","displayExpr","categoryName",3,"dataSource"],[1,"overflow-x-hidden","overflow-y-auto","h-screen","px-1","py-3"],[3,"dataSource","allowUpdating","allowDeleting","columns","rowUpdating","rowDeleting"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Manage Categories"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),e._uU(9,"Category Name"),e.qZA(),e.TgZ(10,"div",8)(11,"input",9),e.NdJ("ngModelChange",function(a){return t.categoryName=a}),e.qZA()()()()(),e.TgZ(12,"div",4)(13,"div",5)(14,"div",6)(15,"button",10),e.NdJ("click",function(){return t.addNewCategory()}),e._uU(16,"Add"),e.qZA()()()()(),e.TgZ(17,"div",11)(18,"div",12)(19,"app-tabs",13),e.NdJ("selectTabIndexChange",function(a){return t.selectTabIndex=a}),e.TgZ(20,"app-tab",14),e.YNc(21,Ao,7,2,"ng-template",15),e.qZA(),e.TgZ(22,"app-tab",16),e.YNc(23,Do,2,4,"ng-template",15),e.qZA()()()()()()),2&o&&(e.xp6(11),e.Q6J("ngModel",t.categoryName),e.xp6(8),e.Q6J("selectTabIndex",t.selectTabIndex),e.xp6(1),e.Q6J("index",0),e.xp6(2),e.Q6J("index",1))},dependencies:[p.O5,d.Fj,d.JJ,d.On,w,ae,J,E,re],encapsulation:2});var Mo=s(8929);class f extends Ee.H{GetOrdersList(o,t,i,a,r,v){return null}GetStatusLookup(){return null}GetOrderContent(o){return null}ChangeOrderStatus(o,t){return null}AddNewOrder(o){return null}BulkChangeOrderStatus(o){return null}}f.\u0275fac=function(){let n;return function(t){return(n||(n=e.n5z(f)))(t||f)}}(),f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),(0,l.gn)([(0,m.HT)("Orders/GetOrdersList"),(0,l.fM)(0,(0,u.AE)("requireTotalCount")),(0,l.fM)(1,(0,u.AE)("skip")),(0,l.fM)(2,(0,u.AE)("take")),(0,l.fM)(3,(0,u.AE)("sort")),(0,l.fM)(4,(0,u.AE)("filter")),(0,l.fM)(5,(0,u.AE)("group"))],f.prototype,"GetOrdersList",null),(0,l.gn)([(0,m.HT)("Orders/GetStatusLookup")],f.prototype,"GetStatusLookup",null),(0,l.gn)([(0,m.HT)("Orders/GetOrderContent"),(0,l.fM)(0,(0,u.AE)("orderID"))],f.prototype,"GetOrderContent",null),(0,l.gn)([(0,m.HT)("Orders/ChangeOrderStatus"),(0,l.fM)(0,(0,u.AE)("orderID")),(0,l.fM)(1,(0,u.AE)("statusID"))],f.prototype,"ChangeOrderStatus",null),(0,l.gn)([(0,m.a4)("Orders/AddNewOrder"),(0,l.fM)(0,u.uT)],f.prototype,"AddNewOrder",null),(0,l.gn)([(0,m.a4)("Orders/BulkChangeOrderStatus"),(0,l.fM)(0,u.uT)],f.prototype,"BulkChangeOrderStatus",null);class ue{constructor(o){this._ordersRepository=o}execute(){return this._ordersRepository.GetStatusLookup().pipe((0,C.U)(o=>o.map(t=>({statusID:t.StatusID,statusName:t.StatusName}))))}}ue.\u0275fac=function(o){return new(o||ue)(e.LFG(f))},ue.\u0275prov=e.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"});class me{constructor(o){this._ordersRepository=o}execute(o){return this._ordersRepository.GetOrderContent(o).pipe((0,C.U)(t=>t.map(i=>({orderID:i.OrderID,productID:i.ProductID,categoryID:i.CategoryID,categoryName:i.CategoryName,isByWeight:i.IsByWeight,productName:i.ProductName,productPrice:i.ProductPrice,totalPrice:i.Quantity*i.ProductPrice,quantity:i.Quantity}))))}}me.\u0275fac=function(o){return new(o||me)(e.LFG(f))},me.\u0275prov=e.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"});class ge{constructor(o){this._ordersRepository=o}execute(o){return this._ordersRepository.BulkChangeOrderStatus(o).pipe()}}ge.\u0275fac=function(o){return new(o||ge)(e.LFG(f))},ge.\u0275prov=e.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"});class he{constructor(o){this._ordersRepository=o}execute(o,t){return this._ordersRepository.ChangeOrderStatus(o,t).pipe()}}he.\u0275fac=function(o){return new(o||he)(e.LFG(f))},he.\u0275prov=e.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"});class fe{constructor(o){this._ordersRepository=o}execute(o,t,i,a,r,v){return this._ordersRepository.GetOrdersList(o?"true":"false",t,i,a,r,v).pipe((0,C.U)(Ue=>({data:Ue.data.map(v?I=>({key:I.key,count:I.count}):I=>I),totalCount:Ue.totalCount,summary:[]})))}}fe.\u0275fac=function(o){return new(o||fe)(e.LFG(f))},fe.\u0275prov=e.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"});class Q{constructor(o,t,i,a,r){this._getStatusLookupUsecase=o,this._getOrderContentUsecase=t,this._bulkChangeOrderStatusUsecase=i,this._changeOrderStatusUsecase=a,this._getOrdersListUsecase=r}getOrdersList(o,t,i,a,r,v){return this._getOrdersListUsecase.execute(o,t,i,a,r,v)}getOrderContent(o){return this._getOrderContentUsecase.execute(o)}getStatusLookup(){return this._getStatusLookupUsecase.execute()}changeOrderStatus(o,t){return this._changeOrderStatusUsecase.execute(o,t)}bulkChangeOrderStatus(o){return this._bulkChangeOrderStatusUsecase.execute(o)}}Q.\u0275fac=function(o){return new(o||Q)(e.LFG(ue),e.LFG(me),e.LFG(ge),e.LFG(he),e.LFG(fe))},Q.\u0275prov=e.Yz7({token:Q,factory:Q.\u0275fac});var Po=s(6221);class Ge{constructor(){this.orderItems=[],this.itemColumns=[{dataField:"quantity",name:"Quantity",alignment:"center"},{dataField:"productName",name:"Product Name",alignment:"center"},{dataField:"categoryName",name:"Category",alignment:"center"},{dataField:"productPrice",name:"Unit Price",alignment:"right",type:"currency"},{dataField:"totalPrice",name:"Total Price",alignment:"right",type:"currency"}]}ngOnInit(){}}function Io(n,o){if(1&n&&e._UZ(0,"app-select-option",11),2&n){const t=o.$implicit;e.Q6J("value",t.statusName)("key",t.statusID)}}function Zo(n,o){if(1&n&&e._UZ(0,"app-order-content",12),2&n){const t=e.oxw();e.Q6J("orderItems",t.orderItems)}}Ge.\u0275fac=function(o){return new(o||Ge)},Ge.\u0275cmp=e.Xpm({type:Ge,selectors:[["app-order-content"]],inputs:{orderItems:"orderItems"},decls:1,vars:2,consts:[[3,"dataSource","columns"]],template:function(o,t){1&o&&e._UZ(0,"app-data-grid-client-side",0),2&o&&e.Q6J("dataSource",t.orderItems)("columns",t.itemColumns)},dependencies:[w],styles:[".w-five-percent[_ngcontent-%COMP%]{width:5%}.w-13-percent[_ngcontent-%COMP%]{width:13%}.w-17-percent[_ngcontent-%COMP%]{width:17%}.w-35-percent[_ngcontent-%COMP%]{width:35%}.w-ten-percent[_ngcontent-%COMP%]{width:10%}"]});class ke{constructor(o,t){this._ordersService=o,this._notificationService=t,this.statusLookup=[],this.orderItems=[],this.orderColumns=[{dataField:"OrderID",name:"Order Number",alignment:"center"},{dataField:"Username",name:"Client Name",alignment:"center"},{dataField:"Email",name:"Email Address",alignment:"center"},{dataField:"PhoneNumber",name:"Phone Number",alignment:"center"},{dataField:"OrderDate",name:"Order Date",alignment:"center",type:"date",format:"dd-MM-yyyy",allowHeaderFiltering:!1,allowSearch:!1},{dataField:"StatusName",name:"Order Status",alignment:"center"},{dataField:"OrderCost",name:"Order Cost",alignment:"right",type:"currency"}]}ngOnInit(){this.ordersList=new Mo.xQ,this.ordersList$=this.ordersList.asObservable(),this.getOrders(),this.getStatusList()}onPageChange(o){this.pageChange=o,this.getOrders()}getOrders(){this.pageChange?this._ordersService.getOrdersList(!0,this.pageChange.skip,this.pageChange.take,this.pageChange.sort,this.pageChange.filter,this.pageChange.group).subscribe(o=>this.ordersList.next({data:{data:o.data,summary:o.summary,totalCount:o.totalCount}}),o=>this._notificationService.error(o)):this.ordersList.next({data:{data:[],summary:[],totalCount:0}})}getStatusList(){this._ordersService.getStatusLookup().subscribe(o=>this.statusLookup=o,o=>this._notificationService.error(o))}getOrderContent(o){this._ordersService.getOrderContent(o).subscribe(t=>this.orderItems=t,t=>this._notificationService.error(t))}bulkUpdateStatus(){if(!this.selectedStatus)return void this._notificationService.error("Please select new status for update.");let o=this.grid.dxDataGrid.instance.getSelectedRowsData();null==o||o.length<=0?this._notificationService.error("Please select at least one order"):this._ordersService.bulkChangeOrderStatus({Orders:o.map(t=>t.orderID),StatusID:this.selectedStatus}).subscribe(t=>{this._notificationService.success("Order(s) status updated successfully."),this.getOrders()})}updateOrderStatus(o){this._ordersService.changeOrderStatus(o,0).subscribe(i=>{this._notificationService.success("Order status updated successfully."),this.getOrders()})}}function Oo(n,o){if(1&n&&e._UZ(0,"app-select-option",18),2&n){const t=o.$implicit;e.Q6J("value",t)("key",t)}}ke.\u0275fac=function(o){return new(o||ke)(e.Y36(Q),e.Y36(Me.g))},ke.\u0275cmp=e.Xpm({type:ke,selectors:[["app-orders"]],viewQuery:function(o,t){if(1&o&&e.Gf(w,5),2&o){let i;e.iGM(i=e.CRH())&&(t.grid=i.first)}},decls:16,vars:4,consts:[[1,"overflow-x-hidden","overflow-y-auto","h-screen","p-4"],[1,"text-4xl","font-normal","leading-normal","m-1","font-bold","w-full"],[1,"my-6","h-12"],[1,"inline-flex","float-right"],[1,"text-blueGray-600","m-0","font-bold","p-3"],[1,"p-3"],[3,"ngModel","ngModelChange"],[3,"value","key",4,"ngFor","ngForOf"],[1,"text-white","bg-emerald-700","font-bold","text-base","px-4","rounded","h-full",3,"click"],[1,"w-full","p-4","shadow-lg","rounded","bg-white"],["selectionMode","multiple","nested","true",3,"source$","columns","pageChange","rowExpanded"],[3,"value","key"],[3,"orderItems"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Manage Orders"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"label",4),e._uU(6,"Bulk Update Status"),e.qZA(),e.TgZ(7,"div",5)(8,"app-select",6),e.NdJ("ngModelChange",function(a){return t.selectedStatus=a}),e.YNc(9,Io,1,2,"app-select-option",7),e.qZA()(),e.TgZ(10,"div",5)(11,"button",8),e.NdJ("click",function(){return t.bulkUpdateStatus()}),e._uU(12,"Update"),e.qZA()()()(),e.TgZ(13,"div",9)(14,"app-data-grid-server-side",10),e.NdJ("pageChange",function(a){return t.onPageChange(a)})("rowExpanded",function(a){return t.getOrderContent(a.key.orderID)}),e.YNc(15,Zo,1,1,"ng-template"),e.qZA()()()),2&o&&(e.xp6(8),e.Q6J("ngModel",t.selectedStatus),e.xp6(1),e.Q6J("ngForOf",t.statusLookup),e.xp6(5),e.Q6J("source$",t.ordersList$)("columns",t.orderColumns))},dependencies:[p.sg,d.JJ,d.On,F,T,Po.Z,Ge],styles:[".w-1-percent[_ngcontent-%COMP%]{width:1%}.w-3-percent[_ngcontent-%COMP%]{width:3%}.w-7-percent[_ngcontent-%COMP%]{width:7%}.w-8-5-percent[_ngcontent-%COMP%]{width:8.5%}.w-9-percent[_ngcontent-%COMP%]{width:9%}.w-10-percent[_ngcontent-%COMP%]{width:10%}.w-15-percent[_ngcontent-%COMP%]{width:15%}.i-action[_ngcontent-%COMP%]{font-size:1.75rem!important;margin-right:.75rem!important}.arrow[_ngcontent-%COMP%]{border:solid;border-width:0 3px 3px 0;display:inline-block;padding:3px;cursor:pointer}.vl[_ngcontent-%COMP%]{padding-left:5%}.right[_ngcontent-%COMP%]{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.left[_ngcontent-%COMP%]{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.down[_ngcontent-%COMP%]{transform:rotate(45deg);-webkit-transform:rotate(45deg)}.drp[_ngcontent-%COMP%]{top:8.5rem}[type=checkbox][_ngcontent-%COMP%]{position:relative;top:1px}"]});class Ne{constructor(o,t,i){this._specificationFieldsService=o,this._notificationService=t,this._confirmationService=i,this.columns=[{dataField:"name",name:"Field Name",alignment:"center",allowUpdating:!0},{dataField:"type",name:"Field Type",alignment:"center"}],this.types=[h.Text,h.Year,h.MonthYear,h.DayMonthYear,h.Number,h.YesNo,h.Country]}ngOnInit(){this.specFieldForm=new d.cw({fieldName:new d.NI("",d.kI.required),fieldType:new d.NI("",d.kI.required)}),this.getAllSpecFields()}addNewSpecField(){this._specificationFieldsService.addNewSpecField(this.specFieldForm.value.fieldName,this.specFieldForm.value.fieldType).subscribe(()=>{this._notificationService.success("Specification field added successfully"),this.getAllSpecFields()})}getAllSpecFields(){this._specificationFieldsService.getAllSpecFields().subscribe(o=>this.specFields=o)}deleteSpecField(o){o.cancel=this._confirmationService.confirm("Delete Specification Field","Deleting Specification Field: ["+o.key.name+"]. Proceed ?").subscribe(t=>(t?this._specificationFieldsService.deleteSpecField(o.key.id).subscribe(()=>{this._notificationService.success("Specification field deleted successfully"),this.getAllSpecFields()}):o.component.cancelEditData(),!t))}updateSpecField(o){this._specificationFieldsService.updateSpecFieldName(o.key.id,o.newData.name).subscribe(()=>{this._notificationService.success("Specification field name updated successfully"),this.getAllSpecFields()})}}Ne.\u0275fac=function(o){return new(o||Ne)(e.Y36(P),e.Y36(Me.g),e.Y36(L))},Ne.\u0275cmp=e.Xpm({type:Ne,selectors:[["app-spec-fields"]],decls:29,vars:7,consts:[[1,"wrapper"],[1,"overflow-x-hidden","overflow-y-auto","h-screen","px-4","pt-4","pb-20"],[1,"text-4xl","font-normal","leading-normal","mx-1","mb-12","font-bold","w-full"],[3,"formGroup","ngSubmit"],[1,"flex","flex-wrap","px-4","mt-0"],[1,"w-5/12"],[1,"dx-fieldset"],[1,"dx-field"],[1,"dx-field-label"],[1,"dx-field-value"],["type","text","formControlName","fieldName",1,"w-full","flex-1","text-blueGray-600","bg-white","rounded","input-text","shadow","focus:outline-none","focus:ring"],["formControlName","fieldType"],[3,"value","key",4,"ngFor","ngForOf"],[1,"w-1/6"],["type","submit",1,"text-white","bg-blueGray-500","font-bold","text-base","py-2","px-3","rounded",3,"disabled"],[1,"flex","flex-wrap"],[1,"w-full","p-4","shadow-lg","rounded","bg-white"],[3,"dataSource","columns","allowUpdating","allowDeleting","rowUpdating","rowDeleting"],[3,"value","key"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Specification Fields"),e.qZA(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return t.addNewSpecField()}),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),e._uU(10,"Field Name"),e.qZA(),e.TgZ(11,"div",9),e._UZ(12,"input",10),e.qZA()()()(),e.TgZ(13,"div",5)(14,"div",6)(15,"div",7)(16,"div",8),e._uU(17,"Field Type"),e.qZA(),e.TgZ(18,"div",9)(19,"app-select",11),e.YNc(20,Oo,1,2,"app-select-option",12),e.qZA()()()()(),e.TgZ(21,"div",13)(22,"div",6)(23,"div",7)(24,"button",14),e._uU(25,"Add"),e.qZA()()()()()(),e.TgZ(26,"div",15)(27,"div",16)(28,"app-data-grid-client-side",17),e.NdJ("rowUpdating",function(a){return t.updateSpecField(a)})("rowDeleting",function(a){return t.deleteSpecField(a)}),e.qZA()()()()()),2&o&&(e.xp6(4),e.Q6J("formGroup",t.specFieldForm),e.xp6(16),e.Q6J("ngForOf",t.types),e.xp6(4),e.Q6J("disabled",t.specFieldForm.invalid),e.xp6(4),e.Q6J("dataSource",t.specFields)("columns",t.columns)("allowUpdating",!0)("allowDeleting",!0))},dependencies:[p.sg,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,F,T,w],encapsulation:2});const Go=[{path:"",component:xe,children:[{path:"dashboard",component:Ae},{path:"manage-products",component:pe},{path:"manage-orders",component:ke},{path:"manage-categories",component:Oe},{path:"spec-fields",component:Ne}]}];class _e{}_e.\u0275fac=function(o){return new(o||_e)},_e.\u0275mod=e.oAB({type:_e}),_e.\u0275inj=e.cJS({imports:[ze.Bz.forChild(Go),ze.Bz]});class ye{}ye.\u0275fac=function(o){return new(o||ye)},ye.\u0275mod=e.oAB({type:ye}),ye.\u0275inj=e.cJS({providers:[M,Re.z,Q,P],imports:[p.ez,d.u5,d.UX,tt.m,_e]})}}]);